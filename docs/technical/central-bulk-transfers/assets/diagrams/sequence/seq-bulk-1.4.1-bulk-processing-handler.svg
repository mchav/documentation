<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4027px" preserveAspectRatio="none" style="width:1331px;height:4027px" version="1.1" viewBox="0 0 1331 4027" width="1331px" zoomAndPan="magnify">
  <defs>
    <filter height="300%" id="fct3r57ygubo9" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
  </defs>
  <g>
    <text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="358" x="484.5" y="28.708">1.4.0. Bulk Processing Handler Consume</text>
    <rect fill="#FFFFE0" height="3980.1875" style="stroke:#A80036;stroke-width:1.0" width="1230" x="16" y="40.9531"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="575.5" y="53.02">Central Service</text>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="64.5" y="187.2422"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="3794.2734" style="stroke:#A80036;stroke-width:1.0" width="10" x="230.5" y="141.9766"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="44.2656" style="stroke:#A80036;stroke-width:1.0" width="10" x="632.5" y="3295.1953"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="763.5" y="3816.3125"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="135.6641" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="621.2344"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="151.6641" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="2377.2734"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="120.5313" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="2558.0703"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="121.3984" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="2847.0703"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="150.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="3021.7344"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="77.3984" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="650.3672"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="2436.6719"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="62.2656" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="2587.2031"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="2876.2031"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="92.5313" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="3050.8672"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="3780.2734" style="stroke:#000000;stroke-width:2.0" width="1307" x="10" y="148.9766"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="166.0625" style="stroke:#000000;stroke-width:2.0" width="377.5" x="157" y="232.2422"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="134.9297" style="stroke:#000000;stroke-width:2.0" width="357.5" x="167" y="256.375"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="156.6641" style="stroke:#000000;stroke-width:2.0" width="417.5" x="167" y="412.3047"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="3339.2813" style="stroke:#000000;stroke-width:2.0" width="1160" x="147" y="582.9688"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="1577.2422" style="stroke:#000000;stroke-width:2.0" width="570" x="215" y="771.8984"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="1401.0469" style="stroke:#000000;stroke-width:2.0" width="550" x="225" y="941.0938"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="393.0781" style="stroke:#000000;stroke-width:2.0" width="515" x="235" y="1034.625"/>
    <rect fill="#FFFFFF" height="84.2031" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1121.1563"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1205.3594"/>
    <rect fill="#FFFFFF" height="114.4688" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1259.2969"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1373.7656"/>
    <rect fill="#FFFFFF" height="184.4063" style="stroke:none;stroke-width:1.0" width="550" x="225" y="1434.7031"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="155.6016" style="stroke:#000000;stroke-width:2.0" width="515" x="235" y="1456.5078"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1558.1719"/>
    <rect fill="#FFFFFF" height="484.6875" style="stroke:none;stroke-width:1.0" width="550" x="225" y="1619.1094"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="386.4844" style="stroke:#000000;stroke-width:2.0" width="515" x="235" y="1710.3125"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1766.5781"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1820.5156"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1874.4531"/>
    <rect fill="#FFFFFF" height="114.4688" style="stroke:none;stroke-width:1.0" width="515" x="235" y="1928.3906"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="515" x="235" y="2042.8594"/>
    <rect fill="#FFFFFF" height="184.4063" style="stroke:none;stroke-width:1.0" width="550" x="225" y="2103.7969"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="155.6016" style="stroke:#000000;stroke-width:2.0" width="515" x="235" y="2125.6016"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="515" x="235" y="2227.2656"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="550" x="225" y="2288.2031"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="125.3359" style="stroke:#000000;stroke-width:2.0" width="310" x="235" y="2693.6016"/>
    <rect fill="#FFFFFF" height="69.0703" style="stroke:none;stroke-width:1.0" width="310" x="235" y="2749.8672"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="931.7813" style="stroke:#000000;stroke-width:2.0" width="1140" x="157" y="2983.4688"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="666.7813" style="stroke:#000000;stroke-width:2.0" width="679.5" x="167" y="3187.5313"/>
    <rect fill="#FFFFFF" height="53.9375" style="stroke:none;stroke-width:1.0" width="1140" x="157" y="3861.3125"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="69" x2="69" y1="131.9766" y2="3946.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="235" x2="235" y1="131.9766" y2="3946.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="524.5" x2="524.5" y1="131.9766" y2="3946.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="637.5" x2="637.5" y1="131.9766" y2="3946.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="768.5" x2="768.5" y1="131.9766" y2="3946.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="881.5" x2="881.5" y1="131.9766" y2="3946.25"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1194" x2="1194" y1="131.9766" y2="3946.25"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="24" y="76.3828"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="20" y="80.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="29" y="100.3779">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="27" y="116.6748">processing</text>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="24" y="3945.25"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="20" y="3949.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="29" y="3969.2451">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="27" y="3985.542">processing</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="177" y="112.3779">Bulk Processing</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="206" y="128.6748">Handler</text>
    <ellipse cx="235.5" cy="83.3828" fill="#FEFECE" filter="url(#fct3r57ygubo9)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <polygon fill="#A80036" points="231.5,71.3828,237.5,66.3828,235.5,71.3828,237.5,76.3828,231.5,71.3828" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="111" x="177" y="3958.2451">Bulk Processing</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="206" y="3974.542">Handler</text>
    <ellipse cx="235.5" cy="3993.8438" fill="#FEFECE" filter="url(#fct3r57ygubo9)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <polygon fill="#A80036" points="231.5,3981.8438,237.5,3976.8438,235.5,3981.8438,237.5,3986.8438,231.5,3981.8438" style="stroke:#A80036;stroke-width:1.0"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="478.5" y="92.6797"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="474.5" y="96.6797"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="481.5" y="116.6748">topic-event</text>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="478.5" y="3945.25"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="474.5" y="3949.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="481.5" y="3969.2451">topic-event</text>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="62.8906" style="stroke:#A80036;stroke-width:1.5" width="98" x="588.5" y="60.0859"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="62.8906" style="stroke:#A80036;stroke-width:1.5" width="98" x="584.5" y="64.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="599.5" y="84.0811">mojaloop-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="591.5" y="100.3779">object-store</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="5" x="606.5" y="116.6748">(</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="611.5" y="116.6748">MLOS</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="5" x="655.5" y="116.6748">)</text>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="62.8906" style="stroke:#A80036;stroke-width:1.5" width="98" x="588.5" y="3945.25"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="62.8906" style="stroke:#A80036;stroke-width:1.5" width="98" x="584.5" y="3949.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="68" x="599.5" y="3969.2451">mojaloop-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="591.5" y="3985.542">object-store</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="5" x="606.5" y="4001.8389">(</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="611.5" y="4001.8389">MLOS</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="5" x="655.5" y="4001.8389">)</text>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="704.5" y="92.6797"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="700.5" y="96.6797"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="707.5" y="116.6748">topic-notification</text>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="704.5" y="3945.25"/>
    <rect fill="#FEFECE" filter="url(#fct3r57ygubo9)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="700.5" y="3949.25"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="707.5" y="3969.2451">topic-notification</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="846.5" y="128.6748">Bulk DAO</text>
    <ellipse cx="882" cy="99.6797" fill="#FEFECE" filter="url(#fct3r57ygubo9)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <line style="stroke:#A80036;stroke-width:2.0" x1="870" x2="894" y1="113.6797" y2="113.6797"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="846.5" y="3958.2451">Bulk DAO</text>
    <ellipse cx="882" cy="3977.5469" fill="#FEFECE" filter="url(#fct3r57ygubo9)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <line style="stroke:#A80036;stroke-width:2.0" x1="870" x2="894" y1="3991.5469" y2="3991.5469"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1146" y="128.6748">Central Store</text>
    <path d="M1176,79.6797 C1176,69.6797 1194,69.6797 1194,69.6797 C1194,69.6797 1212,69.6797 1212,79.6797 L1212,105.6797 C1212,115.6797 1194,115.6797 1194,115.6797 C1194,115.6797 1176,115.6797 1176,105.6797 L1176,79.6797 " fill="#FEFECE" filter="url(#fct3r57ygubo9)" style="stroke:#000000;stroke-width:1.5"/>
    <path d="M1176,79.6797 C1176,89.6797 1194,89.6797 1194,89.6797 C1194,89.6797 1212,89.6797 1212,79.6797 " fill="none" style="stroke:#000000;stroke-width:1.5"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1146" y="3958.2451">Central Store</text>
    <path d="M1176,3971.5469 C1176,3961.5469 1194,3961.5469 1194,3961.5469 C1194,3961.5469 1212,3961.5469 1212,3971.5469 L1212,3997.5469 C1212,4007.5469 1194,4007.5469 1194,4007.5469 C1194,4007.5469 1176,4007.5469 1176,3997.5469 L1176,3971.5469 " fill="#FEFECE" filter="url(#fct3r57ygubo9)" style="stroke:#000000;stroke-width:1.5"/>
    <path d="M1176,3971.5469 C1176,3981.5469 1194,3981.5469 1194,3981.5469 C1194,3981.5469 1212,3981.5469 1212,3971.5469 " fill="none" style="stroke:#000000;stroke-width:1.5"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="64.5" y="187.2422"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="3794.2734" style="stroke:#A80036;stroke-width:1.0" width="10" x="230.5" y="141.9766"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="44.2656" style="stroke:#A80036;stroke-width:1.0" width="10" x="632.5" y="3295.1953"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="763.5" y="3816.3125"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="135.6641" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="621.2344"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="151.6641" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="2377.2734"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="120.5313" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="2558.0703"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="121.3984" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="2847.0703"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="150.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="877" y="3021.7344"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="77.3984" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="650.3672"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="2436.6719"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="62.2656" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="2587.2031"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="2876.2031"/>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="92.5313" style="stroke:#A80036;stroke-width:1.0" width="10" x="1189" y="3050.8672"/>
    <path d="M10,148.9766 L309,148.9766 L309,155.9766 L299,165.9766 L10,165.9766 L10,148.9766 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="3780.2734" style="stroke:#000000;stroke-width:2.0" width="1307" x="10" y="148.9766"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="254" x="25" y="162.0435">Bulk Processing Handler Consume</text>
    <polygon fill="#A80036" points="85.5,183.2422,75.5,187.2422,85.5,191.2422,81.5,187.2422" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="79.5" x2="229.5" y1="187.2422" y2="187.2422"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="91.5" y="182.1763">1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="104.5" y="182.1763">Consume message</text>
    <path d="M157,232.2422 L245,232.2422 L245,239.2422 L235,249.2422 L157,249.2422 L157,232.2422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="166.0625" style="stroke:#000000;stroke-width:2.0" width="377.5" x="157" y="232.2422"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="172" y="245.3091">break</text>
    <path d="M167,256.375 L319,256.375 L319,263.375 L309,273.375 L167,273.375 L167,256.375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="134.9297" style="stroke:#000000;stroke-width:2.0" width="357.5" x="167" y="256.375"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="182" y="269.4419">Validate Event</text>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="282.5" y1="370.3047" y2="370.3047"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="282.5" x2="282.5" y1="370.3047" y2="383.3047"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="241.5" x2="282.5" y1="383.3047" y2="383.3047"/>
    <polygon fill="#A80036" points="251.5,379.3047,241.5,383.3047,251.5,387.3047,247.5,383.3047" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="247.5" y="327.4067">2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="260.5" y="289.5747">Validate event - Rule:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="260.5" y="304.7075">type == &apos;bulk-processing&apos; &amp;&amp; action IN</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="260.5" y="319.8403">[&apos;prepare-duplicate&apos;, &apos;bulk-prepare&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="252" x="260.5" y="334.9731">&apos;bulk-timeout-received&apos;, &apos;fulfil-duplicate&apos;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="247" x="260.5" y="350.106">&apos;bulk-commit&apos;, &apos;bulk-timeout-reserved&apos;]</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="260.5" y="365.2388">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="354.5" y="365.2388">2001</text>
    <path d="M167,412.3047 L399,412.3047 L399,419.3047 L389,429.3047 L167,429.3047 L167,412.3047 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="156.6641" style="stroke:#000000;stroke-width:2.0" width="417.5" x="167" y="412.3047"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="182" y="425.3716">Persist Event Information</text>
    <polygon fill="#A80036" points="512.5,471.5703,522.5,475.5703,512.5,479.5703,516.5,475.5703" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="518.5" y1="475.5703" y2="475.5703"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="247.5" y="470.5044">3</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="260.5" y="470.5044">Publish event information</text>
    <rect fill="#FFFFFF" filter="url(#fct3r57ygubo9)" height="55.3984" style="stroke:#000000;stroke-width:2.0" width="399.5" x="174" y="483.5703"/>
    <polygon fill="#EEEEEE" points="174,483.5703,240,483.5703,240,490.5703,230,500.5703,174,500.5703,174,483.5703" style="stroke:#000000;stroke-width:2.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="187" y="497.6372">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="298.25" y="516.6372">Event Handler Consume</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="302.25" y="531.77"/>
    <path d="M147,582.9688 L321,582.9688 L321,589.9688 L311,599.9688 L147,599.9688 L147,582.9688 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="3339.2813" style="stroke:#000000;stroke-width:2.0" width="1160" x="147" y="582.9688"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="162" y="596.0356">Process Message</text>
    <polygon fill="#A80036" points="865,617.2344,875,621.2344,865,625.2344,869,621.2344" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="871" y1="621.2344" y2="621.2344"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="247.5" y="616.1685">4</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="260.5" y="616.1685">Retrieve current state of Bulk Transfer</text>
    <polygon fill="#A80036" points="1177,646.3672,1187,650.3672,1177,654.3672,1181,650.3672" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="887" x2="1183" y1="650.3672" y2="650.3672"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="894" y="645.3013">5</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="242" x="907" y="645.3013">Retrieve current state of Bulk Transfer</text>
    <polygon fill="#FFFFE0" filter="url(#fct3r57ygubo9)" points="1111,663.3672,1277,663.3672,1287,682.3672,1277,701.3672,1111,701.3672,1101,682.3672,1111,663.3672" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1113" y="679.4341">bulkTransfer</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1113" y="694.5669">bulkTransferStateChange</text>
    <polygon fill="#A80036" points="898,723.7656,888,727.7656,898,731.7656,894,727.7656" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="892" x2="1193" y1="727.7656" y2="727.7656"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="904" y="722.6997">6</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="917" y="722.6997">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="963" y="722.6997">bulkTransferInfo</text>
    <polygon fill="#A80036" points="251.5,752.8984,241.5,756.8984,251.5,760.8984,247.5,756.8984" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="245.5" x2="881" y1="756.8984" y2="756.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="257.5" y="751.8325">7</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="270.5" y="751.8325">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="121" x="316.5" y="751.8325">bulkTransferInfo</text>
    <path d="M215,771.8984 L468,771.8984 L468,778.8984 L458,788.8984 L215,788.8984 L215,771.8984 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="1577.2422" style="stroke:#000000;stroke-width:2.0" width="570" x="215" y="771.8984"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="230" y="784.9653">Validate Bulk Transfer State</text>
    <path d="M245,794.0313 L245,925.0313 L459,925.0313 L459,804.0313 L449,794.0313 L245,794.0313 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M449,794.0313 L449,804.0313 L459,804.0313 L449,794.0313 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="133" x="251" y="811.0981">Initialize variables</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="384" y="811.0981">:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="251" y="826.231">let criteriaState</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="251" y="841.3638">let incompleteBulkState</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="251" y="856.4966">let completedBulkState</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="251" y="871.6294">let bulkTransferState</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="251" y="886.7622">let processingState</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="251" y="901.895">let errorCode, errorMessage</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="251" y="917.0278">let produceNotification = false</text>
    <path d="M225,941.0938 L289,941.0938 L289,948.0938 L279,958.0938 L225,958.0938 L225,941.0938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="1401.0469" style="stroke:#000000;stroke-width:2.0" width="550" x="225" y="941.0938"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="240" y="954.1606">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="466" x="304" y="953.3042">[bulkTransferInfo.bulkTransferState IN [&apos;RECEIVED&apos;, &apos;PENDING_PREPARE&apos;]]</text>
    <path d="M245,963.2266 L245,1018.2266 L547,1018.2266 L547,973.2266 L537,963.2266 L245,963.2266 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M537,963.2266 L537,973.2266 L547,973.2266 L537,963.2266 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="251" y="980.2935">criteriaState = &apos;RECEIVED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="251" y="995.4263">incompleteBulkState = &apos;PENDING_PREPARE&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="251" y="1010.5591">completedBulkState = &apos;ACCEPTED&apos;</text>
    <path d="M235,1034.625 L299,1034.625 L299,1041.625 L289,1051.625 L235,1051.625 L235,1034.625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="393.0781" style="stroke:#000000;stroke-width:2.0" width="515" x="235" y="1034.625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="250" y="1047.6919">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="371" x="314" y="1046.8354">[action == &apos;prepare-duplicate&apos; AND state.status == &apos;error&apos;]</text>
    <path d="M245,1056.7578 L245,1111.7578 L653,1111.7578 L653,1066.7578 L643,1056.7578 L245,1056.7578 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M643,1056.7578 L643,1066.7578 L653,1066.7578 L643,1056.7578 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="251" y="1073.8247">processingState = &apos;RECEIVED_DUPLICATE&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="251" y="1088.9575">errorCode = payload.errorInformation.errorCode</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="251" y="1104.0903">errorDescription = payload.errorInformation.errorDescription</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1122.1563" y2="1122.1563"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="338" x="240" y="1132.3667">[action == &apos;bulk-prepare&apos; AND state.status == &apos;error&apos;]</text>
    <path d="M245,1140.9609 L245,1195.9609 L653,1195.9609 L653,1150.9609 L643,1140.9609 L245,1140.9609 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M643,1140.9609 L643,1150.9609 L653,1150.9609 L643,1140.9609 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="250" x="251" y="1158.0278">processingState = &apos;RECEIVED_INVALID&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="251" y="1173.1606">errorCode = payload.errorInformation.errorCode</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="251" y="1188.2935">errorDescription = payload.errorInformation.errorDescription</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1206.3594" y2="1206.3594"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="358" x="240" y="1216.5698">[action == &apos;bulk-prepare&apos; AND state.status == &apos;success&apos;]</text>
    <path d="M245,1225.1641 L245,1250.1641 L463,1250.1641 L463,1235.1641 L453,1225.1641 L245,1225.1641 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M453,1225.1641 L453,1235.1641 L463,1235.1641 L453,1225.1641 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="197" x="251" y="1242.231">processingState = &apos;ACCEPTED&apos;</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1260.2969" y2="1260.2969"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="384" x="240" y="1270.5073">[action IN [&apos;bulk-timeout-received&apos;, &apos;bulk-timeout-reserved&apos;]]</text>
    <path d="M245,1279.1016 L245,1364.1016 L653,1364.1016 L653,1289.1016 L643,1279.1016 L245,1279.1016 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M643,1279.1016 L643,1289.1016 L653,1289.1016 L643,1279.1016 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="251" y="1296.1685">incompleteBulkState = &apos;EXPIRING&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="251" y="1311.3013">completedBulkState = &apos;COMPLETED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="251" y="1326.4341">processingState = &apos;EXPIRED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="251" y="1341.5669">errorCode = payload.errorInformation.errorCode</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="251" y="1356.6997">errorDescription = payload.errorInformation.errorDescription</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1374.7656" y2="1374.7656"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="240" y="1384.9761">[all other actions]</text>
    <path d="M245,1393.5703 L245,1418.5703 L736,1418.5703 L736,1403.5703 L726,1393.5703 L245,1393.5703 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M726,1393.5703 L726,1403.5703 L736,1403.5703 L726,1393.5703 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="251" y="1410.6372">throw</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="290" y="1410.6372">ErrorHandler.Factory.createFSPIOPError(INTERNAL_SERVER_ERROR)</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="225" x2="775" y1="1435.7031" y2="1435.7031"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="339" x="230" y="1445.9136">[bulkTransferInfo.bulkTransferState IN [&apos;ACCEPTED&apos;]]</text>
    <path d="M235,1456.5078 L299,1456.5078 L299,1463.5078 L289,1473.5078 L235,1473.5078 L235,1456.5078 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="155.6016" style="stroke:#000000;stroke-width:2.0" width="515" x="235" y="1456.5078"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="250" y="1469.5747">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="314" y="1468.7183">[action == &apos;bulk-timeout-reserved&apos;]</text>
    <path d="M245,1478.6406 L245,1548.6406 L499,1548.6406 L499,1488.6406 L489,1478.6406 L245,1478.6406 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M489,1478.6406 L489,1488.6406 L499,1488.6406 L489,1478.6406 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="251" y="1495.7075">criteriaState = &apos;ACCEPTED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="251" y="1510.8403">incompleteBulkState = &apos;EXPIRING&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="251" y="1525.9731">completedBulkState = &apos;COMPLETED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="251" y="1541.106">processingState = &apos;EXPIRED&apos;</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1559.1719" y2="1559.1719"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="240" y="1569.3823">[all other actions]</text>
    <path d="M245,1577.9766 L245,1602.9766 L736,1602.9766 L736,1587.9766 L726,1577.9766 L245,1577.9766 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M726,1577.9766 L726,1587.9766 L736,1587.9766 L726,1577.9766 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="251" y="1595.0435">throw</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="290" y="1595.0435">ErrorHandler.Factory.createFSPIOPError(INTERNAL_SERVER_ERROR)</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="225" x2="775" y1="1620.1094" y2="1620.1094"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="544" x="230" y="1630.3198">[bulkTransferInfo.bulkTransferState IN [&apos;PROCESSING&apos;, &apos;PENDING_FULFIL&apos;, &apos;EXPIRING&apos;]]</text>
    <path d="M245,1638.9141 L245,1693.9141 L531,1693.9141 L531,1648.9141 L521,1638.9141 L245,1638.9141 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M521,1638.9141 L521,1648.9141 L531,1648.9141 L521,1638.9141 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="251" y="1655.981">criteriaState = &apos;PROCESSING&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="251" y="1671.1138">incompleteBulkState = &apos;PENDING_FULFIL&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="251" y="1686.2466">completedBulkState = &apos;COMPLETED&apos;</text>
    <path d="M235,1710.3125 L299,1710.3125 L299,1717.3125 L289,1727.3125 L235,1727.3125 L235,1710.3125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="386.4844" style="stroke:#000000;stroke-width:2.0" width="515" x="235" y="1710.3125"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="250" y="1723.3794">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="177" x="314" y="1722.5229">[action == &apos;fulfil-duplicate&apos;]</text>
    <path d="M245,1732.4453 L245,1757.4453 L514,1757.4453 L514,1742.4453 L504,1732.4453 L245,1732.4453 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M504,1732.4453 L504,1742.4453 L514,1742.4453 L504,1732.4453 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="251" y="1749.5122">processingState = &apos;FULFIL_DUPLICATE&apos;</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1767.5781" y2="1767.5781"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="354" x="240" y="1777.7886">[action == &apos;bulk-commit&apos; AND state.status == &apos;success&apos;]</text>
    <path d="M245,1786.3828 L245,1811.3828 L473,1811.3828 L473,1796.3828 L463,1786.3828 L245,1786.3828 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M463,1786.3828 L463,1796.3828 L473,1796.3828 L463,1786.3828 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="207" x="251" y="1803.4497">processingState = &apos;COMPLETED&apos;</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1821.5156" y2="1821.5156"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="313" x="240" y="1831.7261">[action == &apos;reject&apos; AND state.status == &apos;success&apos;]</text>
    <path d="M245,1840.3203 L245,1865.3203 L456,1865.3203 L456,1850.3203 L446,1840.3203 L245,1840.3203 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M446,1840.3203 L446,1850.3203 L456,1850.3203 L446,1840.3203 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="251" y="1857.3872">processingState = &apos;REJECTED&apos;</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1875.4531" y2="1875.4531"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="355" x="240" y="1885.6636">[action IN [&apos;commit&apos;, &apos;abort&apos;] AND state.status == &apos;error&apos;]</text>
    <path d="M245,1894.2578 L245,1919.2578 L494,1919.2578 L494,1904.2578 L484,1894.2578 L245,1894.2578 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M484,1894.2578 L484,1904.2578 L494,1904.2578 L484,1894.2578 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="251" y="1911.3247">processingState = &apos;FULFIL_INVALID&apos;</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="1929.3906" y2="1929.3906"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="240" y="1939.6011">[action == &apos;bulk-timeout-reserved&apos;]</text>
    <path d="M245,1948.1953 L245,2033.1953 L653,2033.1953 L653,1958.1953 L643,1948.1953 L245,1948.1953 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M643,1948.1953 L643,1958.1953 L653,1958.1953 L643,1948.1953 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="251" y="1965.2622">incompleteBulkState = &apos;EXPIRING&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="251" y="1980.395">completedBulkState = &apos;COMPLETED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="251" y="1995.5278">processingState = &apos;EXPIRED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="309" x="251" y="2010.6606">errorCode = payload.errorInformation.errorCode</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="387" x="251" y="2025.7935">errorDescription = payload.errorInformation.errorDescription</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="2043.8594" y2="2043.8594"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="240" y="2054.0698">[all other actions]</text>
    <path d="M245,2062.6641 L245,2087.6641 L736,2087.6641 L736,2072.6641 L726,2062.6641 L245,2062.6641 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M726,2062.6641 L726,2072.6641 L736,2072.6641 L726,2062.6641 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="251" y="2079.731">throw</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="290" y="2079.731">ErrorHandler.Factory.createFSPIOPError(INTERNAL_SERVER_ERROR)</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="225" x2="775" y1="2104.7969" y2="2104.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="337" x="230" y="2115.0073">[bulkTransferInfo.bulkTransferState IN [&apos;ABORTING&apos;]]</text>
    <path d="M235,2125.6016 L299,2125.6016 L299,2132.6016 L289,2142.6016 L235,2142.6016 L235,2125.6016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="155.6016" style="stroke:#000000;stroke-width:2.0" width="515" x="235" y="2125.6016"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="250" y="2138.6685">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="314" y="2137.812">[action == &apos;bulk-abort&apos;]</text>
    <path d="M245,2147.7344 L245,2217.7344 L494,2217.7344 L494,2157.7344 L484,2147.7344 L245,2147.7344 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M484,2147.7344 L484,2157.7344 L494,2157.7344 L484,2147.7344 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="251" y="2164.8013">criteriaState = &apos;PROCESSING&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="251" y="2179.9341">processingState = &apos;FULFIL_INVALID&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="216" x="251" y="2195.0669">completedBulkState = &apos;REJECTED&apos;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="224" x="251" y="2210.1997">incompleteBulkState = &apos;ABORTING&apos;</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="750" y1="2228.2656" y2="2228.2656"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="115" x="240" y="2238.4761">[all other actions]</text>
    <path d="M245,2247.0703 L245,2272.0703 L736,2272.0703 L736,2257.0703 L726,2247.0703 L245,2247.0703 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M726,2247.0703 L726,2257.0703 L736,2257.0703 L726,2247.0703 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="251" y="2264.1372">throw</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="290" y="2264.1372">ErrorHandler.Factory.createFSPIOPError(INTERNAL_SERVER_ERROR)</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="225" x2="775" y1="2289.2031" y2="2289.2031"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="426" x="230" y="2299.4136">[all other [&apos;PENDING_INVALID&apos;, &apos;COMPLETED&apos;, &apos;REJECTED&apos;, &apos;INVALID&apos;]]</text>
    <path d="M245,2308.0078 L245,2333.0078 L736,2333.0078 L736,2318.0078 L726,2308.0078 L245,2308.0078 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M726,2308.0078 L726,2318.0078 L736,2318.0078 L726,2308.0078 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="251" y="2325.0747">throw</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="431" x="290" y="2325.0747">ErrorHandler.Factory.createFSPIOPError(INTERNAL_SERVER_ERROR)</text>
    <polygon fill="#A80036" points="865,2373.2734,875,2377.2734,865,2381.2734,869,2377.2734" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="871" y1="2377.2734" y2="2377.2734"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="247.5" y="2372.2075">8</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="260.5" y="2372.2075">Persist individual transfer processing state</text>
    <polygon fill="#A80036" points="1177,2432.6719,1187,2436.6719,1177,2440.6719,1181,2436.6719" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="887" x2="1183" y1="2436.6719" y2="2436.6719"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="894" y="2416.4731">9</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="270" x="907" y="2401.3403">Persist individual transfer processing state</text>
    <text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="907" y="2416.4731">-- store errorCode/errorMessage when</text>
    <text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="907" y="2431.606">state.status == &apos;error&apos;</text>
    <polygon fill="#FFFFE0" filter="url(#fct3r57ygubo9)" points="1116,2479.6719,1271,2479.6719,1281,2490.6719,1271,2502.6719,1116,2502.6719,1106,2490.6719,1116,2479.6719" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1118" y="2495.7388">bulkTransferAssociation</text>
    <polygon fill="#A80036" points="251.5,2524.9375,241.5,2528.9375,251.5,2532.9375,247.5,2528.9375" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="245.5" x2="881" y1="2528.9375" y2="2528.9375"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="257.5" y="2523.8716">10</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="279.5" y="2523.8716">Return success</text>
    <polygon fill="#A80036" points="865,2554.0703,875,2558.0703,865,2562.0703,869,2558.0703" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="871" y1="2558.0703" y2="2558.0703"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="247.5" y="2553.0044">11</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="281" x="269.5" y="2553.0044">Check previously defined completion criteria</text>
    <polygon fill="#A80036" points="1177,2583.2031,1187,2587.2031,1177,2591.2031,1181,2587.2031" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="887" x2="1183" y1="2587.2031" y2="2587.2031"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="894" y="2582.1372">12</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="243" x="916" y="2582.1372">Select EXISTS (LIMIT 1) in criteriaState</text>
    <polygon fill="#FFFFE0" filter="url(#fct3r57ygubo9)" points="1116,2600.2031,1271,2600.2031,1281,2611.2031,1271,2623.2031,1116,2623.2031,1106,2611.2031,1116,2600.2031" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1118" y="2616.27">bulkTransferAssociation</text>
    <polygon fill="#A80036" points="898,2645.4688,888,2649.4688,898,2653.4688,894,2649.4688" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="892" x2="1193" y1="2649.4688" y2="2649.4688"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="904" y="2644.4028">13</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="926" y="2644.4028">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="190" x="972" y="2644.4028">existingIndividualTransfer</text>
    <polygon fill="#A80036" points="251.5,2674.6016,241.5,2678.6016,251.5,2682.6016,247.5,2678.6016" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="245.5" x2="881" y1="2678.6016" y2="2678.6016"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="257.5" y="2673.5356">14</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="279.5" y="2673.5356">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="190" x="325.5" y="2673.5356">existingIndividualTransfer</text>
    <path d="M235,2693.6016 L299,2693.6016 L299,2700.6016 L289,2710.6016 L235,2710.6016 L235,2693.6016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="125.3359" style="stroke:#000000;stroke-width:2.0" width="310" x="235" y="2693.6016"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="250" y="2706.6685">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="170" x="314" y="2705.812">[individual transfer exists]</text>
    <path d="M245,2715.7344 L245,2740.7344 L531,2740.7344 L531,2725.7344 L521,2715.7344 L245,2715.7344 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M521,2715.7344 L521,2725.7344 L531,2725.7344 L521,2715.7344 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="251" y="2732.8013">bulkTransferState = incompleteBulkState</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="235" x2="545" y1="2750.8672" y2="2750.8672"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="223" x="240" y="2761.0776">[no transfer in criteriaState exists]</text>
    <path d="M245,2769.6719 L245,2809.6719 L528,2809.6719 L528,2779.6719 L518,2769.6719 L245,2769.6719 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M518,2769.6719 L518,2779.6719 L528,2779.6719 L518,2769.6719 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="251" y="2786.7388">bulkTransferState = completedBulkState</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="169" x="251" y="2801.8716">produceNotification = true</text>
    <polygon fill="#A80036" points="865,2843.0703,875,2847.0703,865,2851.0703,869,2847.0703" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="871" y1="2847.0703" y2="2847.0703"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="247.5" y="2842.0044">15</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="269.5" y="2842.0044">Persist bulkTransferState from previous step</text>
    <polygon fill="#A80036" points="1177,2872.2031,1187,2876.2031,1177,2880.2031,1181,2876.2031" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="887" x2="1183" y1="2876.2031" y2="2876.2031"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="894" y="2871.1372">16</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="916" y="2871.1372">Persist bulkTransferState</text>
    <polygon fill="#FFFFE0" filter="url(#fct3r57ygubo9)" points="1111,2919.2031,1277,2919.2031,1287,2930.2031,1277,2942.2031,1111,2942.2031,1101,2930.2031,1111,2919.2031" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1113" y="2935.27">bulkTransferStateChange</text>
    <polygon fill="#A80036" points="251.5,2964.4688,241.5,2968.4688,251.5,2972.4688,247.5,2968.4688" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="245.5" x2="881" y1="2968.4688" y2="2968.4688"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="257.5" y="2963.4028">17</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="279.5" y="2963.4028">Return success</text>
    <path d="M157,2983.4688 L221,2983.4688 L221,2990.4688 L211,3000.4688 L157,3000.4688 L157,2983.4688 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="931.7813" style="stroke:#000000;stroke-width:2.0" width="1140" x="157" y="2983.4688"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="172" y="2996.5356">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="189" x="236" y="2995.6792">[produceNotification == true]</text>
    <polygon fill="#A80036" points="865,3017.7344,875,3021.7344,865,3025.7344,869,3021.7344" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="871" y1="3021.7344" y2="3021.7344"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="247.5" y="3016.6685">18</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="416" x="269.5" y="3016.6685">Request to retrieve all bulk transfer and individual transfer results</text>
    <polygon fill="#A80036" points="1177,3046.8672,1187,3050.8672,1177,3054.8672,1181,3050.8672" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="887" x2="1183" y1="3050.8672" y2="3050.8672"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="894" y="3045.8013">19</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="916" y="3045.8013">Get bulkTransferResult</text>
    <polygon fill="#FFFFE0" filter="url(#fct3r57ygubo9)" points="1111,3063.8672,1277,3063.8672,1287,3089.8672,1277,3116.8672,1111,3116.8672,1101,3089.8672,1111,3063.8672" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1113" y="3079.9341">bulkTransfer</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1113" y="3095.0669">bulkTransferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="1113" y="3110.1997">bulkTransferAssociation</text>
    <polygon fill="#A80036" points="898,3139.3984,888,3143.3984,898,3147.3984,894,3143.3984" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="892" x2="1193" y1="3143.3984" y2="3143.3984"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="904" y="3138.3325">20</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="926" y="3138.3325">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="139" x="972" y="3138.3325">bulkTransferResult</text>
    <polygon fill="#A80036" points="251.5,3168.5313,241.5,3172.5313,251.5,3176.5313,247.5,3172.5313" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="245.5" x2="881" y1="3172.5313" y2="3172.5313"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="257.5" y="3167.4653">21</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="279.5" y="3167.4653">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="139" x="325.5" y="3167.4653">bulkTransferResult</text>
    <path d="M167,3187.5313 L396,3187.5313 L396,3194.5313 L386,3204.5313 L167,3204.5313 L167,3187.5313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="666.7813" style="stroke:#000000;stroke-width:2.0" width="679.5" x="167" y="3187.5313"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="184" x="182" y="3200.5981">Send Bulk Notification(s)</text>
    <path d="M245,3209.6641 L245,3249.6641 L528,3249.6641 L528,3219.6641 L518,3209.6641 L245,3209.6641 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M518,3209.6641 L518,3219.6641 L528,3219.6641 L518,3209.6641 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="251" y="3226.731">Depending on the action decide where to</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="251" y="3241.8638">send notification: payer, payee OR both</text>
    <polygon fill="#A80036" points="620.5,3291.1953,630.5,3295.1953,620.5,3299.1953,624.5,3295.1953" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="626.5" y1="3295.1953" y2="3295.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="247.5" y="3282.563">22</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="316" x="269.5" y="3274.9966">Generate &amp; Persist bulk message to object store:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="193" x="269.5" y="3290.1294">MLOS.bulkTransferResults</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="90" x="466.5" y="3290.1294">by destination</text>
    <polygon fill="#A80036" points="251.5,3335.4609,241.5,3339.4609,251.5,3343.4609,247.5,3339.4609" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="245.5" x2="636.5" y1="3339.4609" y2="3339.4609"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="257.5" y="3326.8286">23</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="279.5" y="3319.2622">Return reference to the stored object(s)</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="279" x="279.5" y="3334.395">MLOS.bulkTransferResults.messageId</text>
    <path d="M245,3352.4609 L245,3770.4609 L654,3770.4609 L654,3362.4609 L644,3352.4609 L245,3352.4609 " fill="#FFFF00" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M644,3352.4609 L644,3362.4609 L654,3362.4609 L644,3352.4609 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="251" y="3369.5278">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="251" y="3384.6606">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="267" y="3399.7935">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="267" y="3414.9263">from: &lt;source&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="267" y="3430.0591">to: &lt;destination&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="267" y="3445.1919">type: &quot;application/json&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="267" y="3460.3247">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="283" y="3475.4575">headers: &lt;bulkTransferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="283" y="3490.5903">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="299" y="3505.7231">bulkTransferId: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="299" y="3520.856">bulkTransferState: &lt;string&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="283" y="3535.9888">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="267" y="3551.1216">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="267" y="3566.2544">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="283" y="3581.3872">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="299" y="3596.52">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="299" y="3611.6528">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="299" y="3626.7856">type: &quot;notification&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="340" x="299" y="3641.9185">action: &quot;bulk-[prepare | commit | abort | processing]&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="299" y="3657.0513">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="299" y="3672.1841">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="315" y="3687.3169">status: state.status,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="315" y="3702.4497">code: state.code</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="299" y="3717.5825">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="283" y="3732.7153">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="267" y="3747.8481">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="251" y="3762.981">}</text>
    <polygon fill="#A80036" points="751.5,3812.3125,761.5,3816.3125,751.5,3820.3125,755.5,3816.3125" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="240.5" x2="757.5" y1="3816.3125" y2="3816.3125"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="247.5" y="3803.6802">24</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="265" x="269.5" y="3796.1138">Publish Notification event for Payer/Payee</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="269.5" y="3811.2466">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="363.5" y="3811.2466">2003</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="157" x2="1297" y1="3862.3125" y2="3862.3125"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="162" y="3872.5229">[produceNotification == false]</text>
    <path d="M245,3881.1172 L245,3906.1172 L457,3906.1172 L457,3891.1172 L447,3881.1172 L245,3881.1172 " fill="#D3D3D3" filter="url(#fct3r57ygubo9)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M447,3881.1172 L447,3891.1172 L457,3891.1172 L447,3881.1172 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="191" x="251" y="3898.1841">Do nothing (awaitAllTransfers)</text>
  </g>
</svg>
