<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="4389px" preserveAspectRatio="none" style="width:1869px;height:4389px" version="1.1" viewBox="0 0 1869 4389" width="1869px" zoomAndPan="magnify">
  <defs>
    <filter height="300%" id="f8w08nkvw8s9n" width="300%" x="-1" y="-1">
      <feGaussianBlur result="blurOut" stdDeviation="2.0"/>
      <feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/>
      <feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/>
      <feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/>
    </filter>
  </defs>
  <g>
    <text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="307" x="784" y="28.708">2.1.1. Bulk Fulfil Handler Consume</text>
    <rect fill="#FFFFE0" height="4342.3047" style="stroke:#A80036;stroke-width:1.0" width="1738" x="36" y="40.9531"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="111" x="849.5" y="53.02">Central Service</text>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3166.8906"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3747.6797"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="198.5" y="179.9453"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="4170.9844" style="stroke:#A80036;stroke-width:1.0" width="10" x="516" y="134.6797"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1009" y="3627.4766"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1009" y="4253.6641"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1365.5" y="1744.7109"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1365.5" y="2485.2266"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="150.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="1479" y="1132.1953"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="151.6641" style="stroke:#A80036;stroke-width:1.0" width="10" x="1479" y="2622.5625"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="166.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="1479" y="2879.5625"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="92.5313" style="stroke:#A80036;stroke-width:1.0" width="10" x="1717" y="1161.3281"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1717" y="2651.6953"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1717" y="2908.6953"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="120.6641" style="stroke:#000000;stroke-width:2.0" width="407" x="466" y="224.9453"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="89.5313" style="stroke:#000000;stroke-width:2.0" width="387" x="476" y="249.0781"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="156.6641" style="stroke:#000000;stroke-width:2.0" width="826.5" x="476" y="359.6094"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="142.6641" style="stroke:#000000;stroke-width:2.0" width="972.5" x="476" y="530.2734"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="2388.4219" style="stroke:#000000;stroke-width:2.0" width="1409" x="446" y="686.9375"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="160.7969" style="stroke:#000000;stroke-width:2.0" width="1304" x="476" y="879.8672"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="2013.6953" style="stroke:#000000;stroke-width:2.0" width="1389" x="456" y="1054.6641"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="703.9141" style="stroke:#000000;stroke-width:2.0" width="1349" x="476" y="1078.7969"/>
    <rect fill="#FFFFFF" height="733.5156" style="stroke:none;stroke-width:1.0" width="1389" x="456" y="1789.7109"/>
    <rect fill="#FFFFFF" height="545.1328" style="stroke:none;stroke-width:1.0" width="1389" x="456" y="2523.2266"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="516.3281" style="stroke:#000000;stroke-width:2.0" width="1369" x="466" y="2545.0313"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="213.0625" style="stroke:#000000;stroke-width:2.0" width="1349" x="476" y="2569.1641"/>
    <rect fill="#FFFFFF" height="272.1328" style="stroke:none;stroke-width:1.0" width="1369" x="466" y="2789.2266"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="243.3281" style="stroke:#000000;stroke-width:2.0" width="1349" x="476" y="2811.0313"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="1209.3047" style="stroke:#000000;stroke-width:2.0" width="1073.5" x="20" y="3089.3594"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="551.9844" style="stroke:#000000;stroke-width:2.0" width="1053.5" x="30" y="3113.4922"/>
    <rect fill="#FFFFFF" height="626.1875" style="stroke:none;stroke-width:1.0" width="1073.5" x="20" y="3672.4766"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="597.3828" style="stroke:#000000;stroke-width:2.0" width="1053.5" x="30" y="3694.2813"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="93" x2="93" y1="124.6797" y2="4315.6641"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="203" x2="203" y1="124.6797" y2="4315.6641"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="521" x2="521" y1="124.6797" y2="4315.6641"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1013.5" x2="1013.5" y1="124.6797" y2="4315.6641"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1132.5" x2="1132.5" y1="124.6797" y2="4315.6641"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1242.5" x2="1242.5" y1="124.6797" y2="4315.6641"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1370.5" x2="1370.5" y1="124.6797" y2="4315.6641"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1483.5" x2="1483.5" y1="124.6797" y2="4315.6641"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0" x1="1722" x2="1722" y1="124.6797" y2="4315.6641"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="98" x="44" y="69.0859"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="98" x="40" y="73.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="62" y="93.0811">mongo-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="47" y="109.3779">object-store</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="98" x="44" y="4314.6641"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="98" x="40" y="4318.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="62" y="4338.6592">mongo-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="47" y="4354.9561">object-store</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="87" x="160" y="69.0859"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="87" x="156" y="73.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="163" y="93.0811">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="186.5" y="109.3779">fulfil</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="87" x="160" y="4314.6641"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="87" x="156" y="4318.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="163" y="4338.6592">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="186.5" y="4354.9561">fulfil</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="486" y="105.0811">Bulk Fulfil</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="491.5" y="121.3779">Handler</text>
    <ellipse cx="521" cy="76.0859" fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <polygon fill="#A80036" points="517,64.0859,523,59.0859,521,64.0859,523,69.0859,517,64.0859" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="64" x="486" y="4327.6592">Bulk Fulfil</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="491.5" y="4343.9561">Handler</text>
    <ellipse cx="521" cy="4363.2578" fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <polygon fill="#A80036" points="517,4351.2578,523,4346.2578,521,4351.2578,523,4356.2578,517,4351.2578" style="stroke:#A80036;stroke-width:1.0"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="111" x="958.5" y="69.0859"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="111" x="954.5" y="73.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="961.5" y="93.0811">topic-transfer-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="997" y="109.3779">fulfil</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="111" x="958.5" y="4314.6641"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="111" x="954.5" y="4318.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="961.5" y="4338.6592">topic-transfer-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="997" y="4354.9561">fulfil</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="1087.5" y="69.0859"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="1083.5" y="73.0859"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1092.5" y="93.0811">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1090.5" y="109.3779">processing</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="1087.5" y="4314.6641"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="46.5938" style="stroke:#A80036;stroke-width:1.5" width="91" x="1083.5" y="4318.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="73" x="1092.5" y="4338.6592">topic-bulk-</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="77" x="1090.5" y="4354.9561">processing</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="1196.5" y="85.3828"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="1192.5" y="89.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1199.5" y="109.3779">topic-event</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="1196.5" y="4314.6641"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="92" x="1192.5" y="4318.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="78" x="1199.5" y="4338.6592">topic-event</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="1306.5" y="85.3828"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="1302.5" y="89.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1309.5" y="109.3779">topic-notification</text>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="1306.5" y="4314.6641"/>
    <rect fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" height="30.2969" style="stroke:#A80036;stroke-width:1.5" width="128" x="1302.5" y="4318.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="1309.5" y="4338.6592">topic-notification</text>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1448.5" y="121.3779">Bulk DAO</text>
    <ellipse cx="1484" cy="92.3828" fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <line style="stroke:#A80036;stroke-width:2.0" x1="1472" x2="1496" y1="106.3828" y2="106.3828"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1448.5" y="4327.6592">Bulk DAO</text>
    <ellipse cx="1484" cy="4346.9609" fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" rx="12" ry="12" style="stroke:#A80036;stroke-width:2.0"/>
    <line style="stroke:#A80036;stroke-width:2.0" x1="1472" x2="1496" y1="4360.9609" y2="4360.9609"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1674" y="121.3779">Central Store</text>
    <path d="M1704,72.3828 C1704,62.3828 1722,62.3828 1722,62.3828 C1722,62.3828 1740,62.3828 1740,72.3828 L1740,98.3828 C1740,108.3828 1722,108.3828 1722,108.3828 C1722,108.3828 1704,108.3828 1704,98.3828 L1704,72.3828 " fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" style="stroke:#000000;stroke-width:1.5"/>
    <path d="M1704,72.3828 C1704,82.3828 1722,82.3828 1722,82.3828 C1722,82.3828 1740,82.3828 1740,72.3828 " fill="none" style="stroke:#000000;stroke-width:1.5"/>
    <text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="1674" y="4327.6592">Central Store</text>
    <path d="M1704,4340.9609 C1704,4330.9609 1722,4330.9609 1722,4330.9609 C1722,4330.9609 1740,4330.9609 1740,4340.9609 L1740,4366.9609 C1740,4376.9609 1722,4376.9609 1722,4376.9609 C1722,4376.9609 1704,4376.9609 1704,4366.9609 L1704,4340.9609 " fill="#FEFECE" filter="url(#f8w08nkvw8s9n)" style="stroke:#000000;stroke-width:1.5"/>
    <path d="M1704,4340.9609 C1704,4350.9609 1722,4350.9609 1722,4350.9609 C1722,4350.9609 1740,4350.9609 1740,4340.9609 " fill="none" style="stroke:#000000;stroke-width:1.5"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3166.8906"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="29.1328" style="stroke:#A80036;stroke-width:1.0" width="10" x="88" y="3747.6797"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="198.5" y="179.9453"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="4170.9844" style="stroke:#A80036;stroke-width:1.0" width="10" x="516" y="134.6797"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1009" y="3627.4766"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1009" y="4253.6641"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1365.5" y="1744.7109"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1365.5" y="2485.2266"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="150.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="1479" y="1132.1953"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="151.6641" style="stroke:#A80036;stroke-width:1.0" width="10" x="1479" y="2622.5625"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="166.7969" style="stroke:#A80036;stroke-width:1.0" width="10" x="1479" y="2879.5625"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="92.5313" style="stroke:#A80036;stroke-width:1.0" width="10" x="1717" y="1161.3281"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1717" y="2651.6953"/>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="30" style="stroke:#A80036;stroke-width:1.0" width="10" x="1717" y="2908.6953"/>
    <polygon fill="#A80036" points="219.5,175.9453,209.5,179.9453,219.5,183.9453,215.5,179.9453" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="213.5" x2="515" y1="179.9453" y2="179.9453"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="225.5" y="174.8794">1</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="238.5" y="174.8794">Consume message</text>
    <path d="M466,224.9453 L554,224.9453 L554,231.9453 L544,241.9453 L466,241.9453 L466,224.9453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="120.6641" style="stroke:#000000;stroke-width:2.0" width="407" x="466" y="224.9453"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="481" y="238.0122">break</text>
    <path d="M476,249.0781 L628,249.0781 L628,256.0781 L618,266.0781 L476,266.0781 L476,249.0781 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="89.5313" style="stroke:#000000;stroke-width:2.0" width="387" x="476" y="249.0781"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="491" y="262.145">Validate Event</text>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="568" y1="317.6094" y2="317.6094"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="568" x2="568" y1="317.6094" y2="330.6094"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="527" x2="568" y1="330.6094" y2="330.6094"/>
    <polygon fill="#A80036" points="537,326.6094,527,330.6094,537,334.6094,533,330.6094" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="297.4106">2</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="546" y="282.2778">Validate event - Rule:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="546" y="297.4106">type == &apos;bulk-fulfil&apos; &amp;&amp; action == &apos;bulk-commit&apos;</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="546" y="312.5435">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="640" y="312.5435">2001</text>
    <path d="M476,359.6094 L708,359.6094 L708,366.6094 L698,376.6094 L476,376.6094 L476,359.6094 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="156.6641" style="stroke:#000000;stroke-width:2.0" width="826.5" x="476" y="359.6094"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="187" x="491" y="372.6763">Persist Event Information</text>
    <polygon fill="#A80036" points="1230.5,418.875,1240.5,422.875,1230.5,426.875,1234.5,422.875" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1236.5" y1="422.875" y2="422.875"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="417.8091">3</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="546" y="417.8091">Publish event information</text>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="55.3984" style="stroke:#000000;stroke-width:2.0" width="808.5" x="483" y="430.875"/>
    <polygon fill="#EEEEEE" points="483,430.875,549,430.875,549,437.875,539,447.875,483,447.875,483,430.875" style="stroke:#000000;stroke-width:2.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="496" y="444.9419">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="809.75" y="463.9419">Event Handler Consume</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="813.75" y="479.0747"/>
    <path d="M476,530.2734 L716,530.2734 L716,537.2734 L706,547.2734 L476,547.2734 L476,530.2734 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="142.6641" style="stroke:#000000;stroke-width:2.0" width="972.5" x="476" y="530.2734"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="491" y="543.3403">Validate FSPIOP-Signature</text>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="70.5313" style="stroke:#000000;stroke-width:2.0" width="954.5" x="483" y="572.4063"/>
    <polygon fill="#EEEEEE" points="483,572.4063,549,572.4063,549,579.4063,539,589.4063,483,589.4063,483,572.4063" style="stroke:#000000;stroke-width:2.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="496" y="586.4731">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="783.75" y="605.4731">Validate message.content.headers.</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="1011.75" y="605.4731">FSPIOP-Signature</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="783.75" y="620.606">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="68" x="877.75" y="620.606">3105/3106</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="787.75" y="635.7388"/>
    <path d="M446,686.9375 L696,686.9375 L696,693.9375 L686,703.9375 L446,703.9375 L446,686.9375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="2388.4219" style="stroke:#000000;stroke-width:2.0" width="1409" x="446" y="686.9375"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="461" y="700.0044">Validate Bulk Fulfil Transfer</text>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="568" y1="725.2031" y2="725.2031"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="568" x2="568" y1="725.2031" y2="738.2031"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="527" x2="568" y1="738.2031" y2="738.2031"/>
    <polygon fill="#A80036" points="537,734.2031,527,738.2031,537,742.2031,533,738.2031" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="720.1372">4</text>
    <text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="284" x="546" y="720.1372">Schema validation of the incoming message</text>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="568" y1="782.4688" y2="782.4688"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="568" x2="568" y1="782.4688" y2="795.4688"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="527" x2="568" y1="795.4688" y2="795.4688"/>
    <polygon fill="#A80036" points="537,791.4688,527,795.4688,537,799.4688,533,795.4688" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="769.8364">5</text>
    <text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="198" x="546" y="762.27">Verify the message&apos;s signature</text>
    <text fill="#808080" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="251" x="546" y="777.4028">(to be confirmed in future requirement)</text>
    <path d="M531,808.4688 L531,863.4688 L904,863.4688 L904,818.4688 L894,808.4688 L531,808.4688 " fill="#D3D3D3" filter="url(#f8w08nkvw8s9n)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M894,808.4688 L894,818.4688 L904,818.4688 L894,808.4688 " fill="#D3D3D3" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="345" x="537" y="825.5356">The above validation steps are already handled by the</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="346" x="537" y="840.6685">Bulk-API-Adapter for the open source implementation.</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="537" y="855.8013">It may need to be added in future for custom adapters.</text>
    <path d="M476,879.8672 L707,879.8672 L707,886.8672 L697,896.8672 L476,896.8672 L476,879.8672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="160.7969" style="stroke:#000000;stroke-width:2.0" width="1304" x="476" y="879.8672"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="491" y="892.9341">Validate Duplicate Check</text>
    <polygon fill="#A80036" points="1710,939.1328,1720,943.1328,1710,947.1328,1714,943.1328" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1716" y1="943.1328" y2="943.1328"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="938.0669">6</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="546" y="938.0669">Request Duplicate Check</text>
    <rect fill="#FFFFFF" filter="url(#f8w08nkvw8s9n)" height="55.3984" style="stroke:#000000;stroke-width:2.0" width="1286" x="483" y="951.1328"/>
    <polygon fill="#EEEEEE" points="483,951.1328,549,951.1328,549,958.1328,539,968.1328,483,968.1328,483,951.1328" style="stroke:#000000;stroke-width:2.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="496" y="965.1997">ref</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="159" x="1048.5" y="984.1997">Request Duplicate Check</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="1052.5" y="999.3325"/>
    <polygon fill="#A80036" points="537,1028.6641,527,1032.6641,537,1036.6641,533,1032.6641" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="531" x2="1721" y1="1032.6641" y2="1032.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="543" y="1027.5981">7</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="408" x="556" y="1027.5981">Return { hasDuplicateId: Boolean, hasDuplicateHash: Boolean }</text>
    <path d="M456,1054.6641 L520,1054.6641 L520,1061.6641 L510,1071.6641 L456,1071.6641 L456,1054.6641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="2013.6953" style="stroke:#000000;stroke-width:2.0" width="1389" x="456" y="1054.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="471" y="1067.731">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="368" x="535" y="1066.8745">[hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == TRUE]</text>
    <path d="M476,1078.7969 L564,1078.7969 L564,1085.7969 L554,1095.7969 L476,1095.7969 L476,1078.7969 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="703.9141" style="stroke:#000000;stroke-width:2.0" width="1349" x="476" y="1078.7969"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43" x="491" y="1091.8638">break</text>
    <polygon fill="#A80036" points="1467,1128.1953,1477,1132.1953,1467,1136.1953,1471,1132.1953" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1473" y1="1132.1953" y2="1132.1953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="533" y="1119.563">8</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="546" y="1111.9966">Request to retrieve Bulk Transfer state &amp; completedTimestamp</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="82" x="546" y="1127.1294">Error code:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="632" y="1127.1294">2003</text>
    <polygon fill="#A80036" points="1705,1157.3281,1715,1161.3281,1705,1165.3281,1709,1161.3281" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="1489" x2="1711" y1="1161.3281" y2="1161.3281"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1496" y="1156.2622">9</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1509" y="1156.2622">Query database</text>
    <polygon fill="#FFFFE0" filter="url(#f8w08nkvw8s9n)" points="1639,1174.3281,1805,1174.3281,1815,1200.3281,1805,1227.3281,1639,1227.3281,1629,1200.3281,1639,1174.3281" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="1641" y="1190.395">bulkTransfer</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="1205.5278">bulkTransferFulfilment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1641" y="1220.6606">bulkTransferStateChange</text>
    <polygon fill="#A80036" points="1500,1249.8594,1490,1253.8594,1500,1257.8594,1496,1253.8594" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="1494" x2="1721" y1="1253.8594" y2="1253.8594"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1506" y="1248.7935">10</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1528" y="1248.7935">Return resultset</text>
    <polygon fill="#A80036" points="537,1278.9922,527,1282.9922,537,1286.9922,533,1282.9922" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="531" x2="1483" y1="1282.9922" y2="1282.9922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="543" y="1277.9263">11</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="565" y="1277.9263">Return</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="611" y="1277.9263">bulkTransferStateId</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="11" x="761" y="1277.9263">&amp;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="161" x="776" y="1277.9263">completedTimestamp</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="166" x="941" y="1277.9263">(not null when completed)</text>
    <path d="M531,1295.9922 L531,1713.9922 L821,1713.9922 L821,1305.9922 L811,1295.9922 L531,1295.9922 " fill="#FFFF00" filter="url(#f8w08nkvw8s9n)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M811,1295.9922 L811,1305.9922 L821,1305.9922 L811,1295.9922 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="537" y="1313.0591">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="1328.1919">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="553" y="1343.3247">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="553" y="1358.4575">from: &lt;ledgerName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="553" y="1373.5903">to: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="135" x="553" y="1388.7231">type: application/json</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="553" y="1403.856">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="569" y="1418.9888">headers: &lt;bulkTransferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="569" y="1434.1216">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="585" y="1449.2544">bulkTransferState: &lt;string&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="221" x="585" y="1464.3872">completedTimestamp: &lt;optional&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="1479.52">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="553" y="1494.6528">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="553" y="1509.7856">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="569" y="1524.9185">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="585" y="1540.0513">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="585" y="1555.1841">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="585" y="1570.3169">type: &quot;notification&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="180" x="585" y="1585.4497">action: &quot;bulk-fulfil-duplicate&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="585" y="1600.5825">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="585" y="1615.7153">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="601" y="1630.8481">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="601" y="1645.981">code: 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="585" y="1661.1138">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="1676.2466">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="553" y="1691.3794">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="1706.5122">}</text>
    <polygon fill="#A80036" points="1353.5,1740.7109,1363.5,1744.7109,1353.5,1748.7109,1357.5,1744.7109" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1359.5" y1="1744.7109" y2="1744.7109"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="1739.645">12</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="225" x="555" y="1739.645">Publish Notification event for Payee</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="456" x2="1845" y1="1790.7109" y2="1790.7109"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="374" x="461" y="1800.9214">[hasDuplicateId == TRUE &amp;&amp; hasDuplicateHash == FALSE]</text>
    <path d="M531,1809.5156 L531,2439.5156 L847,2439.5156 L847,1819.5156 L837,1809.5156 L531,1809.5156 " fill="#FFFF00" filter="url(#f8w08nkvw8s9n)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M837,1809.5156 L837,1819.5156 L847,1819.5156 L837,1809.5156 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="1826.5825">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="553" y="1841.7153">id: &lt;messageId&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="553" y="1856.8481">from: &lt;ledgerName&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="553" y="1871.981">to: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="553" y="1887.1138">type: &quot;application/json&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="553" y="1902.2466">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="569" y="1917.3794">headers: &lt;bulkTransferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="66" x="569" y="1932.5122">payload: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="585" y="1947.645">errorInformation: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="601" y="1962.7778">errorCode: &quot;3106&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="231" x="601" y="1977.9106">errorDescription: &quot;Modified request&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="601" y="1993.0435">extensionList: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="617" y="2008.1763">extension: [</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="633" y="2023.3091">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="649" y="2038.4419">key: &quot;_cause&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="649" y="2053.5747">value: &lt;FSPIOPError&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="633" y="2068.7075">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="617" y="2083.8403">]</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="601" y="2098.9731">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="585" y="2114.106">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="81" x="585" y="2129.2388">uriParams: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="601" y="2144.3716">id: &lt;bulkTransferId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="585" y="2159.5044">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="2174.6372">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="553" y="2189.77">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="553" y="2204.9028">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="569" y="2220.0356">correlationId: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="569" y="2235.1685">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="585" y="2250.3013">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="585" y="2265.4341">type: &quot;notification&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="585" y="2280.5669">action: &quot;bulk-commit&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="585" y="2295.6997">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="585" y="2310.8325">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="601" y="2325.9653">status: &quot;error&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="601" y="2341.0981">code: &quot;3106&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="194" x="601" y="2356.231">description: &quot;Modified request&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="585" y="2371.3638">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="585" y="2386.4966">responseTo: &lt;uuid&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="2401.6294">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="553" y="2416.7622">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="2431.895">}</text>
    <polygon fill="#A80036" points="1353.5,2481.2266,1363.5,2485.2266,1353.5,2489.2266,1357.5,2485.2266" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1359.5" y1="2485.2266" y2="2485.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="2472.5942">13</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="555" y="2465.0278">Publish Notification (failure) event for Payer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="2480.1606">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="2480.1606">3106</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="456" x2="1845" y1="2524.2266" y2="2524.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171" x="461" y="2534.437">[hasDuplicateId == FALSE]</text>
    <path d="M466,2545.0313 L530,2545.0313 L530,2552.0313 L520,2562.0313 L466,2562.0313 L466,2545.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="516.3281" style="stroke:#000000;stroke-width:2.0" width="1369" x="466" y="2545.0313"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="481" y="2558.0981">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="545" y="2557.2417">[Validate Bulk Transfer Fulfil (success)]</text>
    <path d="M476,2569.1641 L1015,2569.1641 L1015,2576.1641 L1005,2586.1641 L476,2586.1641 L476,2569.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="213.0625" style="stroke:#000000;stroke-width:2.0" width="1349" x="476" y="2569.1641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="494" x="491" y="2582.231">Persist Bulk Transfer State (with bulktransferState=&apos;PROCESSING&apos;)</text>
    <polygon fill="#A80036" points="1467,2618.5625,1477,2622.5625,1467,2626.5625,1471,2622.5625" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1473" y1="2622.5625" y2="2622.5625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="2609.9302">14</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="229" x="555" y="2602.3638">Request to persist bulk transfer fulfil</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="2617.4966">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="2617.4966">2003</text>
    <polygon fill="#A80036" points="1705,2647.6953,1715,2651.6953,1705,2655.6953,1709,2651.6953" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="1489" x2="1711" y1="2651.6953" y2="2651.6953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1496" y="2646.6294">15</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="1518" y="2646.6294">Persist bulkTransferFulfilment</text>
    <polygon fill="#FFFFE0" filter="url(#f8w08nkvw8s9n)" points="1639,2694.6953,1805,2694.6953,1815,2720.6953,1805,2747.6953,1639,2747.6953,1629,2720.6953,1639,2694.6953" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="2710.7622">bulkTransferFulfilment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1641" y="2725.895">bulkTransferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="2741.0278">bulkTransferExtension</text>
    <polygon fill="#A80036" points="537,2770.2266,527,2774.2266,537,2778.2266,533,2774.2266" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="531" x2="1483" y1="2774.2266" y2="2774.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="543" y="2769.1606">16</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="565" y="2769.1606">Return success</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="466" x2="1835" y1="2790.2266" y2="2790.2266"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="471" y="2800.437">[Validate Bulk Transfer Fulfil (failure)]</text>
    <path d="M476,2811.0313 L1056,2811.0313 L1056,2818.0313 L1046,2828.0313 L476,2828.0313 L476,2811.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="243.3281" style="stroke:#000000;stroke-width:2.0" width="1349" x="476" y="2811.0313"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="535" x="491" y="2824.0981">Persist Bulk Transfer State (with bulkTransferState=&apos;INVALID/REJECTED&apos;)</text>
    <polygon fill="#A80036" points="1467,2875.5625,1477,2879.5625,1467,2883.5625,1471,2879.5625" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1473" y1="2879.5625" y2="2879.5625"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="2859.3638">17</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="146" x="555" y="2844.231">Request to persist bulk</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="555" y="2859.3638">transfer fulfil failure</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="2874.4966">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="2874.4966">2003</text>
    <polygon fill="#A80036" points="1705,2904.6953,1715,2908.6953,1705,2912.6953,1709,2908.6953" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="1489" x2="1711" y1="2908.6953" y2="2908.6953"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1496" y="2903.6294">18</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="1518" y="2903.6294">Persist transfer</text>
    <polygon fill="#FFFFE0" filter="url(#f8w08nkvw8s9n)" points="1639,2951.6953,1805,2951.6953,1815,2985.6953,1805,3019.6953,1639,3019.6953,1629,2985.6953,1639,2951.6953" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="2967.7622">bulkTransferFulfilment</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="1641" y="2982.895">bulkTransferStateChange</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="1641" y="2998.0278">bulkTransferExtension</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="1641" y="3013.1606">bulkTransferError</text>
    <polygon fill="#A80036" points="537,3042.3594,527,3046.3594,537,3050.3594,533,3046.3594" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="531" x2="1483" y1="3046.3594" y2="3046.3594"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="543" y="3041.2935">19</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="565" y="3041.2935">Return success</text>
    <path d="M20,3089.3594 L84,3089.3594 L84,3096.3594 L74,3106.3594 L20,3106.3594 L20,3089.3594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="1209.3047" style="stroke:#000000;stroke-width:2.0" width="1073.5" x="20" y="3089.3594"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="35" y="3102.4263">alt</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="255" x="99" y="3101.5698">[Validate Bulk Transfer Fulfil (success)]</text>
    <path d="M30,3113.4922 L107,3113.4922 L107,3120.4922 L97,3130.4922 L30,3130.4922 L30,3113.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="551.9844" style="stroke:#000000;stroke-width:2.0" width="1053.5" x="30" y="3113.4922"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="45" y="3126.5591">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319" x="122" y="3125.7026">[for every individual transfer in the bulk fulfil list]</text>
    <polygon fill="#A80036" points="109,3162.8906,99,3166.8906,109,3170.8906,105,3166.8906" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="103" x2="515" y1="3166.8906" y2="3166.8906"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="115" y="3154.2583">20</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="137" y="3146.6919">Retrieve individual transfers from the bulk using</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="137" y="3161.8247">reference:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="308" x="206" y="3161.8247">MLOS.individualTransferFulfils.messageId</text>
    <polygon fill="#A80036" points="504,3192.0234,514,3196.0234,504,3200.0234,508,3196.0234" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="93" x2="510" y1="3196.0234" y2="3196.0234"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="100" y="3190.9575">21</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="122" y="3190.9575">Stream bulk&apos;s individual transfer fulfils</text>
    <path d="M531,3209.0234 L531,3582.0234 L793,3582.0234 L793,3219.0234 L783,3209.0234 L531,3209.0234 " fill="#FFFF00" filter="url(#f8w08nkvw8s9n)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M783,3209.0234 L783,3219.0234 L793,3219.0234 L783,3209.0234 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="537" y="3226.0903">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="3241.2231">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="553" y="3256.356">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="553" y="3271.4888">from: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="553" y="3286.6216">to: &lt;payerFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="553" y="3301.7544">type: &quot;application/json&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="553" y="3316.8872">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="569" y="3332.02">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="569" y="3347.1528">payload: &lt;transferMessage&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="553" y="3362.2856">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="553" y="3377.4185">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="569" y="3392.5513">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="585" y="3407.6841">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="585" y="3422.8169">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="585" y="3437.9497">type: &quot;fulfil&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="141" x="585" y="3453.0825">action: &quot;bulk-commit&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="585" y="3468.2153">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="585" y="3483.3481">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="601" y="3498.481">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="601" y="3513.6138">code: 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="585" y="3528.7466">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="3543.8794">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="553" y="3559.0122">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="3574.145">}</text>
    <polygon fill="#A80036" points="997,3623.4766,1007,3627.4766,997,3631.4766,1001,3627.4766" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1003" y1="3627.4766" y2="3627.4766"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="3614.8442">22</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="442" x="555" y="3607.2778">Route &amp; Publish Prepare event to the Payer for the Individual Transfer</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="3622.4106">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="3622.4106">2003</text>
    <line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="20" x2="1093.5" y1="3673.4766" y2="3673.4766"/>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="246" x="25" y="3683.687">[Validate Bulk Transfer Fulfil (failure)]</text>
    <path d="M30,3694.2813 L107,3694.2813 L107,3701.2813 L97,3711.2813 L30,3711.2813 L30,3694.2813 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0"/>
    <rect fill="none" height="597.3828" style="stroke:#000000;stroke-width:2.0" width="1053.5" x="30" y="3694.2813"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="45" y="3707.3481">loop</text>
    <text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="319" x="122" y="3706.4917">[for every individual transfer in the bulk fulfil list]</text>
    <polygon fill="#A80036" points="109,3743.6797,99,3747.6797,109,3751.6797,105,3747.6797" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="103" x2="515" y1="3747.6797" y2="3747.6797"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="115" y="3735.0474">23</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="303" x="137" y="3727.481">Retrieve individual transfers from the bulk using</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="137" y="3742.6138">reference:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="308" x="206" y="3742.6138">MLOS.individualTransferFulfils.messageId</text>
    <polygon fill="#A80036" points="504,3772.8125,514,3776.8125,504,3780.8125,508,3776.8125" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0" x1="93" x2="510" y1="3776.8125" y2="3776.8125"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="100" y="3771.7466">24</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="241" x="122" y="3771.7466">Stream bulk&apos;s individual transfer fulfils</text>
    <path d="M531,3789.8125 L531,4207.8125 L848,4207.8125 L848,3799.8125 L838,3789.8125 L531,3789.8125 " fill="#FFFF00" filter="url(#f8w08nkvw8s9n)" style="stroke:#A80036;stroke-width:1.0"/>
    <path d="M838,3789.8125 L838,3799.8125 L848,3799.8125 L838,3789.8125 " fill="#FFFF00" style="stroke:#A80036;stroke-width:1.0"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="61" x="537" y="3806.8794">Message:</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="3822.0122">{</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="553" y="3837.145">id: &lt;messageId&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="164" x="553" y="3852.2778">from: &lt;payeeFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="144" x="553" y="3867.4106">to: &lt;payerFspName&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="145" x="553" y="3882.5435">type: &quot;application/json&quot;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="553" y="3897.6763">content: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="569" y="3912.8091">headers: &lt;transferHeaders&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="569" y="3927.9419">payload: &quot;errorInformation&quot;: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="248" x="585" y="3943.0747">&quot;errorCode&quot;: &lt;possible codes: [3100]&gt;</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="227" x="585" y="3958.2075">&quot;errorDescription&quot;: &quot;&lt;description&gt;&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="3973.3403">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="12" x="553" y="3988.4731">},</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="553" y="4003.606">metadata: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="569" y="4018.7388">event: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="585" y="4033.8716">id: &lt;uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="585" y="4049.0044">responseTo: &lt;previous.uuid&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="75" x="585" y="4064.1372">type: &quot;fulfil&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="585" y="4079.27">action: &quot;bulk-abort&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="585" y="4094.4028">createdAt: &lt;timestamp&gt;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="585" y="4109.5356">state: {</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="601" y="4124.6685">status: &quot;success&quot;,</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="601" y="4139.8013">code: 0</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="585" y="4154.9341">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="569" y="4170.0669">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="553" y="4185.1997">}</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="537" y="4200.3325">}</text>
    <polygon fill="#A80036" points="997,4249.6641,1007,4253.6641,997,4257.6641,1001,4253.6641" style="stroke:#A80036;stroke-width:1.0"/>
    <line style="stroke:#A80036;stroke-width:1.0" x1="526" x2="1003" y1="4253.6641" y2="4253.6641"/>
    <text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="533" y="4241.0317">25</text>
    <text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="149" x="555" y="4233.4653">Publish fulfil bulk aborts</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="90" x="555" y="4248.5981">Error codes:</text>
    <text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="32" x="649" y="4248.5981">2003</text>
  </g>
</svg>
