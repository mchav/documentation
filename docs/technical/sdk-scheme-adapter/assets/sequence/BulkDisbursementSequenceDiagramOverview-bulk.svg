<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="13923px" preserveAspectRatio="none" style="width:4528px;height:13923px;" version="1.1" viewBox="0 0 4528 13923" width="4528px" zoomAndPan="magnify"><defs><filter height="300%" id="f2sxg19o170l8" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#D3D3D3" height="13908.4922" style="stroke: #383838; stroke-width: 1.0;" width="653" x="1619.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201" x="1845.5" y="25.2695">Payment Manager</text><rect fill="#D3D3D3" height="13908.4922" style="stroke: #383838; stroke-width: 1.0;" width="857" x="3603.5" y="4"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201" x="3931.5" y="25.2695">Payment Manager</text><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="303.2813" style="stroke: #383838; stroke-width: 1.0;" width="10" x="2199" y="3294.4883"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="676.293" style="stroke: #383838; stroke-width: 1.0;" width="10" x="2199" y="6756.6055"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="1167.0352" style="stroke: #383838; stroke-width: 1.0;" width="10" x="2199" y="10614.1055"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="267.2813" style="stroke: #000000; stroke-width: 2.0;" width="562" x="1468" y="1275.957"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="91.7305" style="stroke: #000000; stroke-width: 2.0;" width="406.5" x="1613.5" y="1444.5078"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="118.6406" style="stroke: #000000; stroke-width: 2.0;" width="1167.5" x="1111" y="2850.8359"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="1008.3945" style="stroke: #000000; stroke-width: 2.0;" width="1723" x="1974" y="2983.4766"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="796.0234" style="stroke: #000000; stroke-width: 2.0;" width="1703" x="1984" y="3029.2969"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="673.3828" style="stroke: #000000; stroke-width: 2.0;" width="1547.5" x="2129.5" y="3144.9375"/><rect fill="#FFFFFF" height="80.8203" style="stroke: none; stroke-width: 1.0;" width="1547.5" x="2129.5" y="3737.5"/><rect fill="#FFFFFF" height="159.5508" style="stroke: none; stroke-width: 1.0;" width="1723" x="1974" y="3832.3203"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="117.6406" style="stroke: #000000; stroke-width: 2.0;" width="597" x="2129.5" y="3867.2305"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="2332.7227" style="stroke: #000000; stroke-width: 2.0;" width="2739" x="668" y="4058.7813"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="2279.9023" style="stroke: #000000; stroke-width: 2.0;" width="2719" x="678" y="4104.6016"/><rect fill="#FFFFFF" height="2001.6211" style="stroke: none; stroke-width: 1.0;" width="2719" x="678" y="4382.8828"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="1114.2148" style="stroke: #000000; stroke-width: 2.0;" width="2539.5" x="1947" y="6405.5039"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="436.832" style="stroke: #000000; stroke-width: 2.0;" width="889" x="3587.5" y="6917.2461"/><rect fill="#FFFFFF" height="239.3711" style="stroke: none; stroke-width: 1.0;" width="889" x="3587.5" y="7114.707"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="197.4609" style="stroke: #000000; stroke-width: 2.0;" width="869" x="3597.5" y="7149.6172"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="2617.7344" style="stroke: #000000; stroke-width: 2.0;" width="2739" x="668" y="7533.7188"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="2564.9141" style="stroke: #000000; stroke-width: 2.0;" width="2719" x="678" y="7579.5391"/><rect fill="#FFFFFF" height="2286.6328" style="stroke: none; stroke-width: 1.0;" width="2719" x="678" y="7857.8203"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="1709.5078" style="stroke: #000000; stroke-width: 2.0;" width="2559.5" x="1947" y="10165.4531"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="143.5508" style="stroke: #000000; stroke-width: 2.0;" width="594.5" x="2129.5" y="10281.0938"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="1429.3164" style="stroke: #000000; stroke-width: 2.0;" width="2367" x="2129.5" y="10438.6445"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="436.832" style="stroke: #000000; stroke-width: 2.0;" width="889" x="3587.5" y="10840.6563"/><rect fill="#FFFFFF" height="239.3711" style="stroke: none; stroke-width: 1.0;" width="889" x="3587.5" y="11038.1172"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="197.4609" style="stroke: #000000; stroke-width: 2.0;" width="869" x="3597.5" y="11073.0273"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="357.9219" style="stroke: #000000; stroke-width: 2.0;" width="1774.5" x="2712" y="11384.3086"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="199.3711" style="stroke: #000000; stroke-width: 2.0;" width="889" x="3587.5" y="11535.8594"/><rect fill="#FFFFFF" height="120.6406" style="stroke: none; stroke-width: 1.0;" width="889" x="3587.5" y="11614.5898"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="78.7305" style="stroke: #000000; stroke-width: 2.0;" width="869" x="3597.5" y="11649.5"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="463.7422" style="stroke: #000000; stroke-width: 2.0;" width="1600.5" x="678" y="13332.0195"/><rect fill="#FFFFFF" height="305.1914" style="stroke: none; stroke-width: 1.0;" width="1600.5" x="678" y="13490.5703"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="737" x2="737" y1="130.6406" y2="13812.7617"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1172" x2="1172" y1="130.6406" y2="13812.7617"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1687.5" x2="1687.5" y1="130.6406" y2="13812.7617"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2203.5" x2="2203.5" y1="130.6406" y2="13812.7617"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="2781" x2="2781" y1="130.6406" y2="13812.7617"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3409.5" x2="3409.5" y1="130.6406" y2="13812.7617"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="3671.5" x2="3671.5" y1="130.6406" y2="13812.7617"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="4391.5" x2="4391.5" y1="130.6406" y2="13812.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="92" x="688" y="126">MFI Staff</text><ellipse cx="737" cy="47.7305" fill="#F8F8F8" filter="url(#f2sxg19o170l8)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M737,55.7305 L737,82.7305 M724,63.7305 L750,63.7305 M737,82.7305 L724,97.7305 M737,82.7305 L750,97.7305 " fill="none" filter="url(#f2sxg19o170l8)" style="stroke: #383838; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="92" x="688" y="13833.0313">MFI Staff</text><ellipse cx="737" cy="13847.6719" fill="#F8F8F8" filter="url(#f2sxg19o170l8)" rx="8" ry="8" style="stroke: #383838; stroke-width: 2.0;"/><path d="M737,13855.6719 L737,13882.6719 M724,13863.6719 L750,13863.6719 M737,13882.6719 L724,13897.6719 M737,13882.6719 L750,13897.6719 " fill="none" filter="url(#f2sxg19o170l8)" style="stroke: #383838; stroke-width: 2.0;"/><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="39.9102" style="stroke: #383838; stroke-width: 1.5;" width="98" x="1121" y="85.7305"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="84" x="1128" y="114">MFI CBS</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="39.9102" style="stroke: #383838; stroke-width: 1.5;" width="98" x="1121" y="13811.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="84" x="1128" y="13840.0313">MFI CBS</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="65.8203" style="stroke: #383838; stroke-width: 1.5;" width="125" x="1623.5" y="59.8203"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="50" x="1661" y="88.0898">Core</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="111" x="1630.5" y="114">Connector</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="65.8203" style="stroke: #383838; stroke-width: 1.5;" width="125" x="1623.5" y="13811.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="50" x="1661" y="13840.0313">Core</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="111" x="1630.5" y="13865.9414">Connector</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="65.8203" style="stroke: #383838; stroke-width: 1.5;" width="125" x="2139.5" y="59.8203"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="100" x="2152" y="88.0898">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="111" x="2146.5" y="114">Connector</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="65.8203" style="stroke: #383838; stroke-width: 1.5;" width="125" x="2139.5" y="13811.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="100" x="2152" y="13840.0313">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="111" x="2146.5" y="13865.9414">Connector</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="65.8203" style="stroke: #383838; stroke-width: 1.5;" width="114" x="2722" y="59.8203"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="100" x="2729" y="88.0898">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="68" x="2745" y="114">Switch</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="65.8203" style="stroke: #383838; stroke-width: 1.5;" width="114" x="2722" y="13811.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="100" x="2729" y="13840.0313">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="68" x="2745" y="13865.9414">Switch</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="39.9102" style="stroke: #383838; stroke-width: 1.5;" width="81" x="3367.5" y="85.7305"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="67" x="3374.5" y="114">Oracle</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="39.9102" style="stroke: #383838; stroke-width: 1.5;" width="81" x="3367.5" y="13811.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="67" x="3374.5" y="13840.0313">Oracle</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="91.7305" style="stroke: #383838; stroke-width: 1.5;" width="125" x="3607.5" y="33.9102"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="3640.5" y="62.1797">Payee</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="100" x="3620" y="88.0898">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="111" x="3614.5" y="114">Connector</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="91.7305" style="stroke: #383838; stroke-width: 1.5;" width="125" x="3607.5" y="13811.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="3640.5" y="13840.0313">Payee</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="100" x="3620" y="13865.9414">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="111" x="3614.5" y="13891.8516">Connector</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="91.7305" style="stroke: #383838; stroke-width: 1.5;" width="125" x="4327.5" y="33.9102"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="4360.5" y="62.1797">Payee</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="50" x="4365" y="88.0898">Core</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="111" x="4334.5" y="114">Connector</text><rect fill="#F8F8F8" filter="url(#f2sxg19o170l8)" height="91.7305" style="stroke: #383838; stroke-width: 1.5;" width="125" x="4327.5" y="13811.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="4360.5" y="13840.0313">Payee</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="50" x="4365" y="13865.9414">Core</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="111" x="4334.5" y="13891.8516">Connector</text><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="303.2813" style="stroke: #383838; stroke-width: 1.0;" width="10" x="2199" y="3294.4883"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="676.293" style="stroke: #383838; stroke-width: 1.0;" width="10" x="2199" y="6756.6055"/><rect fill="#FFFFFF" filter="url(#f2sxg19o170l8)" height="1167.0352" style="stroke: #383838; stroke-width: 1.0;" width="10" x="2199" y="10614.1055"/><rect fill="#EEEEEE" filter="url(#f2sxg19o170l8)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="4513.5" x="3" y="166.5957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="4516.5" y1="166.5957" y2="166.5957"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="4516.5" y1="169.5957" y2="169.5957"/><rect fill="#EEEEEE" filter="url(#f2sxg19o170l8)" height="33.9102" style="stroke: #000000; stroke-width: 2.0;" width="686" x="1916.75" y="150.6406"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="665" x="1922.75" y="175.9102">Bulk Transfers implemented using Mojaloop bulk transfers</text><polygon fill="#383838" points="1160,222.4609,1170,226.4609,1160,230.4609,1164,226.4609" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="737" x2="1166" y1="226.4609" y2="226.4609"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="744" y="219.8203">[1]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="263" x="779" y="219.8203">Make bulk disbursement</text><polygon fill="#383838" points="1676,772.6191,1686,776.6191,1676,780.6191,1680,776.6191" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1172" x2="1682" y1="776.6191" y2="776.6191"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1179" y="757.0234">[2]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="161" x="1214" y="744.0684">Disburse funds</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="1221" y="769.9785"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="1221" y="769.9785">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="159" x="1287" y="769.9785">bulkTransfers/</text><path d="M8,239.4609 L8,1259.4609 L1163,1259.4609 L1163,249.4609 L1153,239.4609 L8,239.4609 " fill="#ECECEC" filter="url(#f2sxg19o170l8)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1153,239.4609 L1153,249.4609 L1163,249.4609 L1153,239.4609 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="14" y="265.7305">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="588" x="35" y="291.6406">"bulkHomeTransactionID": "string", # external identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="118" x="35" y="317.5508">"options": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="405" x="56" y="343.4609">"onlyValidateParty": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="208" x="56" y="369.3711">"autoAcceptParty": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="287" x="84" y="395.2813">"enabled": "true" # boolean</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="56" y="421.1914">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="221" x="56" y="447.1016">"autoAcceptQuote": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="308" x="70" y="473.0117">"enabled": "true", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1078" x="70" y="498.9219">"transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="56" y="524.832">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="401" x="56" y="550.7422">"skipPartyLookup": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="361" x="56" y="576.6523">"synchronous": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="619" x="56" y="602.5625">"bulkExpiration": DateTime, # expiration date time (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="42" y="628.4727">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="466" x="35" y="654.3828">"from": { "partyIdInfo": {} # (partyIdInfo type)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="91" y="680.293">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="234" x="35" y="706.2031">"individualtransfers": [</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="84" y="732.1133">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="745" x="98" y="758.0234">"homeTransactionId": "string", # Payer DFSP CBS Transaction identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="463" x="98" y="783.9336">"reference": "string", # Payer Loan reference</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="98" y="809.8438">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="153" x="112" y="835.7539">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="259" x="126" y="861.6641">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="264" x="126" y="887.5742">"partyIdentifier": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="306" x="126" y="913.4844">"partySubIdOrType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="168" x="126" y="939.3945">"fspId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="126" y="965.3047">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="112" y="991.2148">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="530" x="98" y="1017.125">"amountType": "RECEIVE" # SEND, RECEIVE (Enum)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="98" y="1043.0352">"currency" : "XXX" # (Enum)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="382" x="98" y="1068.9453">"amount": "100.0", # money (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="156" x="98" y="1094.8555">"note": "string"</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="655" x="98" y="1120.7656">"quoteRequestExtensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="669" x="98" y="1146.6758">"transferRequestExtensions": [{ "key": "string", "value": "string"}]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="42" x="98" y="1172.5859">}, ...</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="84" y="1198.4961">],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="508" x="35" y="1224.4063">"extensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="14" y="1250.3164">}</text><path d="M1468,1275.957 L1563,1275.957 L1563,1292.957 L1553,1302.957 L1468,1302.957 L1468,1275.957 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="267.2813" style="stroke: #000000; stroke-width: 2.0;" width="562" x="1468" y="1275.957"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="1483" y="1298.2266">loop</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="242" x="1578" y="1299.2266">[n times  (in parallel)]</text><polygon fill="#ECECEC" filter="url(#f2sxg19o170l8)" points="1488,1319.7773,1673,1319.7773,1683,1348.7773,1673,1378.7773,1488,1378.7773,1478,1348.7773,1488,1319.7773" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="181" x="1490" y="1345.0469">For each transfer</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="174" x="1490" y="1370.957">in bulk message</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1688" x2="1730" y1="1416.5078" y2="1416.5078"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1730" x2="1730" y1="1416.5078" y2="1429.5078"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1689" x2="1730" y1="1429.5078" y2="1429.5078"/><polygon fill="#383838" points="1699,1425.5078,1689,1429.5078,1699,1433.5078,1695,1429.5078" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1695" y="1409.8672">[3]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="258" x="1730" y="1409.8672">validate MSISDN &amp; Prefix</text><path d="M1613.5,1444.5078 L1687.5,1444.5078 L1687.5,1461.5078 L1677.5,1471.5078 L1613.5,1471.5078 L1613.5,1444.5078 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="91.7305" style="stroke: #000000; stroke-width: 2.0;" width="406.5" x="1613.5" y="1444.5078"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="1628.5" y="1466.7773">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="299" x="1702.5" y="1467.7773">[MSISDN Failed Validation]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1688" x2="1730" y1="1515.2383" y2="1515.2383"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1730" x2="1730" y1="1515.2383" y2="1528.2383"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1689" x2="1730" y1="1528.2383" y2="1528.2383"/><polygon fill="#383838" points="1699,1524.2383,1689,1528.2383,1699,1532.2383,1695,1528.2383" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1695" y="1508.5977">[4]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="278" x="1730" y="1508.5977">Add Last Error to Transfer</text><polygon fill="#383838" points="2192,2204.9922,2202,2208.9922,2192,2212.9922,2196,2208.9922" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1688" x2="2198" y1="2208.9922" y2="2208.9922"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1695" y="2202.3516">[5]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="1730" y="2202.3516">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="159" x="1796" y="2202.3516">/bulkTransfers</text><path d="M524,1555.2383 L524,2834.2383 L1679,2834.2383 L1679,1565.2383 L1669,1555.2383 L524,1555.2383 " fill="#ECECEC" filter="url(#f2sxg19o170l8)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1669,1555.2383 L1669,1565.2383 L1679,1565.2383 L1669,1555.2383 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201" x="530" y="1581.5078">BulkTransferType</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="530" y="1607.418">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="588" x="551" y="1633.3281">"bulkHomeTransactionID": "string", # external identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="118" x="551" y="1659.2383">"options": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="405" x="572" y="1685.1484">"onlyValidateParty": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="208" x="572" y="1711.0586">"autoAcceptParty": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="287" x="600" y="1736.9688">"enabled": "true" # boolean</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="572" y="1762.8789">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="221" x="572" y="1788.7891">"autoAcceptQuote": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="308" x="586" y="1814.6992">"enabled": "true", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1078" x="586" y="1840.6094">"transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="572" y="1866.5195">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="401" x="572" y="1892.4297">"skipPartyLookup": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="361" x="572" y="1918.3398">"synchronous": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="619" x="572" y="1944.25">"bulkExpiration": DateTime, # expiration date time (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="558" y="1970.1602">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="466" x="551" y="1996.0703">"from": { "partyIdInfo": {} # (partyIdInfo type)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="607" y="2021.9805">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="234" x="551" y="2047.8906">"individualtransfers": [</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="600" y="2073.8008">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="745" x="614" y="2099.7109">"homeTransactionId": "string", # Payer DFSP CBS Transaction identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="463" x="614" y="2125.6211">"reference": "string", # Payer Loan reference</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="614" y="2151.5313">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="153" x="628" y="2177.4414">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="259" x="642" y="2203.3516">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="264" x="642" y="2229.2617">"partyIdentifier": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="306" x="642" y="2255.1719">"partySubIdOrType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="168" x="642" y="2281.082">"fspId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="642" y="2306.9922">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="628" y="2332.9023">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="530" x="614" y="2358.8125">"amountType": "RECEIVE" # SEND, RECEIVE (Enum)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="614" y="2384.7227">"currency" : "XXX" # (Enum)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="382" x="614" y="2410.6328">"amount": "100.0", # money (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="156" x="614" y="2436.543">"note": "string"</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="655" x="614" y="2462.4531">"quoteRequestExtensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="669" x="614" y="2488.3633">"transferRequestExtensions": [{ "key": "string", "value": "string"}]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="127" x="614" y="2514.2734">"lastError": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="215" x="628" y="2540.1836">"httpStatusCode": 0,</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="192" x="628" y="2566.0938">"mojaloopError": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="216" x="642" y="2592.0039">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="217" x="656" y="2617.9141">"errorCode": "8812",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="656" y="2643.8242">"errorDescription": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="656" y="2669.7344">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="642" y="2695.6445">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="628" y="2721.5547">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="42" x="614" y="2747.4648">}, ...</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="600" y="2773.375">],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="508" x="551" y="2799.2852">"extensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="530" y="2825.1953">}</text><path d="M1111,2850.8359 L1185,2850.8359 L1185,2867.8359 L1175,2877.8359 L1111,2877.8359 L1111,2850.8359 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="118.6406" style="stroke: #000000; stroke-width: 2.0;" width="1167.5" x="1111" y="2850.8359"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="1126" y="2873.1055">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="1200" y="2874.1055">[if (!synchronous)]</text><polygon fill="#383838" points="1699,2917.5664,1689,2921.5664,1699,2925.5664,1695,2921.5664" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1693" x2="2203" y1="2921.5664" y2="2921.5664"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1705" y="2914.9258">[6]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1740" y="2914.9258">Receive HTTP 202 response</text><polygon fill="#383838" points="1183,2957.4766,1173,2961.4766,1183,2965.4766,1179,2961.4766" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1177" x2="1687" y1="2961.4766" y2="2961.4766"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="1189" y="2954.8359">[7]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1224" y="2954.8359">Receive HTTP 202 response</text><path d="M1974,2983.4766 L2048,2983.4766 L2048,3000.4766 L2038,3010.4766 L1974,3010.4766 L1974,2983.4766 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1008.3945" style="stroke: #000000; stroke-width: 2.0;" width="1723" x="1974" y="2983.4766"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="1989" y="3005.7461">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="252" x="2063" y="3006.7461">[if (!skipPartyLookup)]</text><path d="M1984,3029.2969 L2079,3029.2969 L2079,3046.2969 L2069,3056.2969 L1984,3056.2969 L1984,3029.2969 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="796.0234" style="stroke: #000000; stroke-width: 2.0;" width="1703" x="1984" y="3029.2969"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="1999" y="3051.5664">loop</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="625" x="2094" y="3052.5664">[N times &amp; within bulkExpiration timelimit  (in parallel)]</text><polygon fill="#ECECEC" filter="url(#f2sxg19o170l8)" points="2004,3073.1172,2189,3073.1172,2199,3102.1172,2189,3132.1172,2004,3132.1172,1994,3102.1172,2004,3073.1172" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="181" x="2006" y="3098.3867">For each transfer</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="174" x="2006" y="3124.2969">in bulk message</text><path d="M2129.5,3144.9375 L2203.5,3144.9375 L2203.5,3161.9375 L2193.5,3171.9375 L2129.5,3171.9375 L2129.5,3144.9375 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="673.3828" style="stroke: #000000; stroke-width: 2.0;" width="1547.5" x="2129.5" y="3144.9375"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="2144.5" y="3167.207">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="206" x="2218.5" y="3168.207">[if (validTransfer)]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="3215.668" y2="3215.668"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="3215.668" y2="3228.668"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="3228.668" y2="3228.668"/><polygon fill="#383838" points="2215,3224.668,2205,3228.668,2215,3232.668,2211,3228.668" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="2211" y="3209.0273">[8]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="220" x="2246" y="3209.0273">Create TransactionId</text><polygon fill="#383838" points="2769,3290.4883,2779,3294.4883,2769,3298.4883,2773,3294.4883" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2209" x2="2775" y1="3294.4883" y2="3294.4883"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="2216" y="3274.8926">[9]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="2251" y="3261.9375">GET</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="107" x="2302" y="3261.9375">/parties/*</text><text fill="#000000" font-family="sans-serif" font-size="22" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="157" x="2251" y="3287.8477">&lt;PartyIdType&gt;</text><text fill="#000000" font-family="sans-serif" font-size="22" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="12" x="2408" y="3287.8477">/</text><text fill="#000000" font-family="sans-serif" font-size="22" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="2420" y="3287.8477">&lt;PartyId&gt;</text><polygon fill="#383838" points="3398,3356.3086,3408,3360.3086,3398,3364.3086,3402,3360.3086" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="3404" y1="3360.3086" y2="3360.3086"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2788" y="3340.7129">[10]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="178" x="2838" y="3327.7578">Lookup DFSP for</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="198" x="2838" y="3353.668">requested Type/ID</text><line style="stroke: #383838; stroke-width: 1.0;" x1="3410" x2="3452" y1="3426.1289" y2="3426.1289"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3452" x2="3452" y1="3426.1289" y2="3439.1289"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3411" x2="3452" y1="3439.1289" y2="3439.1289"/><polygon fill="#383838" points="3421,3435.1289,3411,3439.1289,3421,3443.1289,3417,3439.1289" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3417" y="3406.5332">[11]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="178" x="3467" y="3393.5781">Lookup Party for</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="198" x="3467" y="3419.4883">requested Type/ID</text><polygon fill="#383838" points="2792,3475.0391,2782,3479.0391,2792,3483.0391,2788,3479.0391" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2786" x2="3409" y1="3479.0391" y2="3479.0391"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2798" y="3472.3984">[12]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="159" x="2848" y="3472.3984">Return DFSP ID</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="2823" y1="3544.8594" y2="3544.8594"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2823" x2="2823" y1="3544.8594" y2="3557.8594"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2782" x2="2823" y1="3557.8594" y2="3557.8594"/><polygon fill="#383838" points="2792,3553.8594,2782,3557.8594,2792,3561.8594,2788,3557.8594" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2788" y="3525.2637">[13]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="2838" y="3512.3086">GET</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="286" x="2889" y="3512.3086">/parties/{type}/{id}/{subid}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="565" x="2838" y="3538.2188">Make call to payee DFSP to confirm Party information</text><polygon fill="#383838" points="2215,3593.7695,2205,3597.7695,2215,3601.7695,2211,3597.7695" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2209" x2="2780" y1="3597.7695" y2="3597.7695"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2221" y="3591.1289">[14]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="2271" y="3591.1289">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="201" x="2322" y="3591.1289">/parties/{type}/{id}</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="3663.5898" y2="3663.5898"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="3663.5898" y2="3676.5898"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="3676.5898" y2="3676.5898"/><polygon fill="#383838" points="2215,3672.5898,2205,3676.5898,2215,3680.5898,2211,3676.5898" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="3643.9941">[15]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="319" x="2261" y="3631.0391">Update transaction status and</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="2268" y="3656.9492">attach get parties response</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="3716.5" y2="3716.5"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="3716.5" y2="3729.5"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="3729.5" y2="3729.5"/><polygon fill="#383838" points="2215,3725.5,2205,3729.5,2215,3733.5,2211,3729.5" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="3709.8594">[16]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="335" x="2261" y="3709.8594">Add to next phase FSP bulk call</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2129.5" x2="3677" y1="3738.5" y2="3738.5"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="213" x="2134.5" y="3759.7695">[if (!validTransfer)]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="3797.3203" y2="3797.3203"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="3797.3203" y2="3810.3203"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="3810.3203" y2="3810.3203"/><polygon fill="#383838" points="2215,3806.3203,2205,3810.3203,2215,3814.3203,2211,3810.3203" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="3790.6797">[17]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="45" x="2261" y="3790.6797">Skip</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1974" x2="3697" y1="3833.3203" y2="3833.3203"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="245" x="1979" y="3854.5898">[if (skipPartyLookup)]</text><path d="M2129.5,3867.2305 L2224.5,3867.2305 L2224.5,3884.2305 L2214.5,3894.2305 L2129.5,3894.2305 L2129.5,3867.2305 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="117.6406" style="stroke: #000000; stroke-width: 2.0;" width="597" x="2129.5" y="3867.2305"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="2144.5" y="3889.5">loop</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="482" x="2239.5" y="3890.5">[N times &amp; within bulkExpiration timelimit]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="3963.8711" y2="3963.8711"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="3963.8711" y2="3976.8711"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="3976.8711" y2="3976.8711"/><polygon fill="#383838" points="2215,3972.8711,2205,3976.8711,2215,3980.8711,2211,3976.8711" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="3944.2754">[18]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="194" x="2261" y="3931.3203">Validate party info</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="335" x="2268" y="3957.2305">Add to next phase FSP bulk call</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="4030.7813" y2="4030.7813"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="4030.7813" y2="4043.7813"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="4043.7813" y2="4043.7813"/><polygon fill="#383838" points="2215,4039.7813,2205,4043.7813,2215,4047.7813,2211,4043.7813" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="4024.1406">[19]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="513" x="2261" y="4024.1406">if(transferStatusValid) Group into M Payee DFSPs</text><path d="M668,4058.7813 L742,4058.7813 L742,4075.7813 L732,4085.7813 L668,4085.7813 L668,4058.7813 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="2332.7227" style="stroke: #000000; stroke-width: 2.0;" width="2739" x="668" y="4058.7813"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="683" y="4081.0508">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="247" x="757" y="4082.0508">[if (!autoAcceptParty)]</text><path d="M678,4104.6016 L752,4104.6016 L752,4121.6016 L742,4131.6016 L678,4131.6016 L678,4104.6016 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="2279.9023" style="stroke: #000000; stroke-width: 2.0;" width="2719" x="678" y="4104.6016"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="693" y="4126.8711">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="767" y="4127.8711">[if (synchronous)]</text><polygon fill="#383838" points="1699,4171.332,1689,4175.332,1699,4179.332,1695,4175.332" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1693" x2="2203" y1="4175.332" y2="4175.332"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1705" y="4168.6914">[20]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="425" x="1755" y="4168.6914">Response &lt;bulkPartyLookupResponse&gt;</text><polygon fill="#383838" points="1183,4211.2422,1173,4215.2422,1183,4219.2422,1179,4215.2422" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1177" x2="1687" y1="4215.2422" y2="4215.2422"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1189" y="4208.6016">[21]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="425" x="1239" y="4208.6016">Response &lt;bulkPartyLookupResponse&gt;</text><polygon fill="#383838" points="748,4251.1523,738,4255.1523,748,4259.1523,744,4255.1523" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="742" x2="1171" y1="4255.1523" y2="4255.1523"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="754" y="4248.5117">[22]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="246" x="804" y="4248.5117">Present Party Response</text><polygon fill="#383838" points="1160,4291.0625,1170,4295.0625,1160,4299.0625,1164,4295.0625" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="737" x2="1166" y1="4295.0625" y2="4295.0625"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="744" y="4288.4219">[23]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="130" x="794" y="4288.4219">Accept Party</text><polygon fill="#383838" points="1676,4330.9727,1686,4334.9727,1676,4338.9727,1680,4334.9727" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1172" x2="1682" y1="4334.9727" y2="4334.9727"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1179" y="4328.332">[24]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1229" y="4328.332">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1280" y="4328.332">/bulkTransfers/{bulkTransferId}</text><polygon fill="#383838" points="2192,4370.8828,2202,4374.8828,2192,4378.8828,2196,4374.8828" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1688" x2="2198" y1="4374.8828" y2="4374.8828"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1695" y="4368.2422">[25]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1745" y="4368.2422">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1796" y="4368.2422">/bulkTransfers/{bulkTransferId}</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="678" x2="3397" y1="4383.8828" y2="4383.8828"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="683" y="4405.1523">[if (!synchronous)]</text><polygon fill="#383838" points="1699,5091.457,1689,5095.457,1699,5099.457,1695,5095.457" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1693" x2="2203" y1="5095.457" y2="5095.457"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1705" y="5088.8164">[26]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1755" y="5088.8164">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1806" y="5088.8164">/bulkTransfers/{bulkTransferId}</text><path d="M2209,4415.793 L2209,5746.793 L3378,5746.793 L3378,4425.793 L3368,4415.793 L2209,4415.793 " fill="#ECECEC" filter="url(#f2sxg19o170l8)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M3368,4415.793 L3368,4425.793 L3378,4425.793 L3368,4415.793 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="300" x="2215" y="4442.0625">bulkPartyLookupResponse</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2215" y="4467.9727">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="588" x="2229" y="4493.8828">"bulkHomeTransactionID": "string", # external identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="118" x="2229" y="4519.793">"options": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="405" x="2257" y="4545.7031">"onlyValidateParty": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="208" x="2257" y="4571.6133">"autoAcceptParty": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="287" x="2285" y="4597.5234">"enabled": "true" # boolean</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2257" y="4623.4336">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="221" x="2257" y="4649.3438">"autoAcceptQuote": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="308" x="2285" y="4675.2539">"enabled": "true", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1078" x="2285" y="4701.1641">"transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2257" y="4727.0742">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="401" x="2257" y="4752.9844">"skipPartyLookup": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="361" x="2257" y="4778.8945">"synchronous": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="619" x="2257" y="4804.8047">"bulkExpiration": DateTime, # expiration date time (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2229" y="4830.7148">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="466" x="2229" y="4856.625">"from": { "partyIdInfo": {} # (partyIdInfo type)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2285" y="4882.5352">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="234" x="2229" y="4908.4453">"individualtransfers": [</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2285" y="4934.3555">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="745" x="2299" y="4960.2656">"homeTransactionId": "string", # Payer DFSP CBS Transaction identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="538" x="2299" y="4986.1758">"transactionId": "UUID", # Created by ML connector</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="463" x="2299" y="5012.0859">"reference": "string", # Payer Loan reference</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="2299" y="5037.9961">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="153" x="2313" y="5063.9063">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="259" x="2327" y="5089.8164">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="264" x="2327" y="5115.7266">"partyIdentifier": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="306" x="2327" y="5141.6367">"partySubIdOrType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="168" x="2327" y="5167.5469">"fspId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2327" y="5193.457">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2313" y="5219.3672">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="530" x="2299" y="5245.2773">"amountType": "RECEIVE" # SEND, RECEIVE (Enum)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="2299" y="5271.1875">"currency" : "XXX" # (Enum)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="382" x="2299" y="5297.0977">"amount": "100.0", # money (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="156" x="2299" y="5323.0078">"note": "string"</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="655" x="2299" y="5348.918">"quoteRequestExtensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="669" x="2299" y="5374.8281">"transferRequestExtensions": [{ "key": "string", "value": "string"}]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="127" x="2299" y="5400.7383">"lastError": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="215" x="2313" y="5426.6484">"httpStatusCode": 0,</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="192" x="2313" y="5452.5586">"mojaloopError": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="216" x="2327" y="5478.4688">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="231" x="2341" y="5504.3789">"errorCode": "8812",1</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="2341" y="5530.2891">"errorDescription": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2341" y="5556.1992">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2327" y="5582.1094">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2313" y="5608.0195">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2299" y="5633.9297">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2285" y="5659.8398">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2229" y="5685.75">],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="508" x="2229" y="5711.6602">"extensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2215" y="5737.5703">}</text><polygon fill="#383838" points="2192,5784.1211,2202,5788.1211,2192,5792.1211,2196,5788.1211" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1688" x2="2198" y1="5788.1211" y2="5788.1211"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1695" y="5781.4805">[27]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1745" y="5781.4805">Receive HTTP 202 response</text><polygon fill="#383838" points="1183,5824.0313,1173,5828.0313,1183,5832.0313,1179,5828.0313" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1177" x2="1687" y1="5828.0313" y2="5828.0313"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1189" y="5821.3906">[28]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1239" y="5821.3906">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1290" y="5821.3906">/bulkTransfers/{bulkTransferId}</text><polygon fill="#383838" points="1676,5863.9414,1686,5867.9414,1676,5871.9414,1680,5867.9414" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1172" x2="1682" y1="5867.9414" y2="5867.9414"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1179" y="5861.3008">[29]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1229" y="5861.3008">Receive HTTP 202 response</text><polygon fill="#383838" points="748,5903.8516,738,5907.8516,748,5911.8516,744,5907.8516" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="742" x2="1171" y1="5907.8516" y2="5907.8516"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="754" y="5901.2109">[30]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="246" x="804" y="5901.2109">Present Party Response</text><polygon fill="#383838" points="1160,5943.7617,1170,5947.7617,1160,5951.7617,1164,5947.7617" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="737" x2="1166" y1="5947.7617" y2="5947.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="744" y="5941.1211">[31]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="130" x="794" y="5941.1211">Accept Party</text><polygon fill="#383838" points="1676,5983.6719,1686,5987.6719,1676,5991.6719,1680,5987.6719" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1172" x2="1682" y1="5987.6719" y2="5987.6719"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1179" y="5981.0313">[32]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1229" y="5981.0313">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1280" y="5981.0313">/bulkTransfers/{bulkTransferId}</text><polygon fill="#383838" points="2192,6158.1328,2202,6162.1328,2192,6166.1328,2196,6162.1328" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1688" x2="2198" y1="6162.1328" y2="6162.1328"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1695" y="6155.4922">[33]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1745" y="6155.4922">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1796" y="6155.4922">/bulkTransfers/{bulkTransferId}</text><path d="M829,6000.6719 L829,6295.6719 L1679,6295.6719 L1679,6010.6719 L1669,6000.6719 L829,6000.6719 " fill="#ECECEC" filter="url(#f2sxg19o170l8)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1669,6000.6719 L1669,6010.6719 L1679,6010.6719 L1669,6000.6719 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="426" x="835" y="6026.9414">bulkTransferContinuationAcceptParty</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="835" y="6052.8516">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="588" x="849" y="6078.7617">"bulkHomeTransactionID": "string", # external identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="234" x="849" y="6104.6719">"individualtransfers": [</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="905" y="6130.582">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="745" x="919" y="6156.4922">"homeTransactionId": "string", # Payer DFSP CBS Transaction identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="538" x="919" y="6182.4023">"transactionId": "UUID", # Created by ML connector</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="337" x="919" y="6208.3125">"acceptParty": "true" # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="905" y="6234.2227">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="849" y="6260.1328">],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="835" y="6286.043">}</text><polygon fill="#383838" points="1699,6332.5938,1689,6336.5938,1699,6340.5938,1695,6336.5938" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1693" x2="2203" y1="6336.5938" y2="6336.5938"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1705" y="6329.9531">[34]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1755" y="6329.9531">Receive HTTP 202 response</text><polygon fill="#383838" points="1183,6372.5039,1173,6376.5039,1183,6380.5039,1179,6376.5039" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1177" x2="1687" y1="6376.5039" y2="6376.5039"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1189" y="6369.8633">[35]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1239" y="6369.8633">Receive HTTP 202 response</text><path d="M1947,6405.5039 L2042,6405.5039 L2042,6422.5039 L2032,6432.5039 L1947,6432.5039 L1947,6405.5039 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1114.2148" style="stroke: #000000; stroke-width: 2.0;" width="2539.5" x="1947" y="6405.5039"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="1962" y="6427.7734">loop</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="825" x="2057" y="6428.7734">[Quote Processing (M times &amp; within bulkExpiration timelimit in parallel)]</text><polygon fill="#ECECEC" filter="url(#f2sxg19o170l8)" points="1967,6449.3242,2189,6449.3242,2199,6478.3242,2189,6508.3242,1967,6508.3242,1957,6478.3242,1967,6449.3242" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="218" x="1969" y="6474.5938">For each payee DFSP</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="174" x="1969" y="6500.5039">in bulk message</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="6546.0547" y2="6546.0547"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="6546.0547" y2="6559.0547"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="6559.0547" y2="6559.0547"/><polygon fill="#383838" points="2215,6555.0547,2205,6559.0547,2215,6563.0547,2211,6559.0547" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="6539.4141">[36]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="227" x="2261" y="6539.4141">Check bulkExpiration</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="6598.9648" y2="6598.9648"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="6598.9648" y2="6611.9648"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="6611.9648" y2="6611.9648"/><polygon fill="#383838" points="2215,6607.9648,2205,6611.9648,2215,6615.9648,2211,6611.9648" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="6592.3242">[37]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="267" x="2261" y="6592.3242">Create bulkTransactionId</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="6703.6953" y2="6703.6953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="6703.6953" y2="6716.6953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="6716.6953" y2="6716.6953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2215" y1="6716.6953" y2="6712.6953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2215" y1="6716.6953" y2="6720.6953"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="6671.1445">[38]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="222" x="2261" y="6645.2344">Calculate bulk expiry</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="436" x="2261" y="6671.1445">based on both expirySeconds config and</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="155" x="2261" y="6697.0547">bulkExpiration</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2779" x2="2769" y1="6756.6055" y2="6752.6055"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2779" x2="2769" y1="6756.6055" y2="6760.6055"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2209" x2="2780" y1="6756.6055" y2="6756.6055"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2216" y="6749.9648">[39]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="2266" y="6749.9648">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="132" x="2332" y="6749.9648">/bulkquotes</text><polygon fill="#383838" points="3660,6792.5156,3670,6796.5156,3660,6800.5156,3664,6796.5156" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="3666" y1="6796.5156" y2="6796.5156"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2788" y="6789.875">[40]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="2838" y="6789.875">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="132" x="2904" y="6789.875">/bulkquotes</text><polygon fill="#383838" points="4380,6858.3359,4390,6862.3359,4380,6866.3359,4384,6862.3359" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="6862.3359" y2="6862.3359"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="6842.7402">[41]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="3729" y="6829.7852">GET</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="476" x="3780" y="6829.7852">/functionSupport?HasSupportForBulkQuotes</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="618" x="3736" y="6855.6953"># check to see if the core connector supports bulk quotes</text><polygon fill="#383838" points="3683,6898.2461,3673,6902.2461,3683,6906.2461,3679,6902.2461" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3677" x2="4391" y1="6902.2461" y2="6902.2461"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3689" y="6895.6055">[42]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="379" x="3739" y="6895.6055">Reponse HasSupportForBulkQuotes</text><path d="M3587.5,6917.2461 L3661.5,6917.2461 L3661.5,6934.2461 L3651.5,6944.2461 L3587.5,6944.2461 L3587.5,6917.2461 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="436.832" style="stroke: #000000; stroke-width: 2.0;" width="889" x="3587.5" y="6917.2461"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="3602.5" y="6939.5156">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="353" x="3676.5" y="6940.5156">[if (HasSupportForBulkQuotes)]</text><polygon fill="#383838" points="4380,6983.9766,4390,6987.9766,4380,6991.9766,4384,6987.9766" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="6987.9766" y2="6987.9766"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="6981.3359">[43]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="3729" y="6981.3359">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="132" x="3795" y="6981.3359">/bulkquotes</text><polygon fill="#383838" points="3683,7023.8867,3673,7027.8867,3683,7031.8867,3679,7027.8867" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3677" x2="4391" y1="7027.8867" y2="7027.8867"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3689" y="7021.2461">[44]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="327" x="3739" y="7021.2461">Reponse bulkquotes Response</text><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="3714" y1="7093.707" y2="7093.707"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3714" x2="3714" y1="7093.707" y2="7106.707"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3673" x2="3714" y1="7106.707" y2="7106.707"/><polygon fill="#383838" points="3683,7102.707,3673,7106.707,3683,7110.707,3679,7106.707" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="7074.1113">[45]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="295" x="3729" y="7061.1563">Update transaction statuses</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="296" x="3729" y="7087.0664">and attach quote responses</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3587.5" x2="4476.5" y1="7115.707" y2="7115.707"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="360" x="3592.5" y="7136.9766">[if (!HasSupportForBulkQuotes)]</text><path d="M3597.5,7149.6172 L3692.5,7149.6172 L3692.5,7166.6172 L3682.5,7176.6172 L3597.5,7176.6172 L3597.5,7149.6172 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="197.4609" style="stroke: #000000; stroke-width: 2.0;" width="869" x="3597.5" y="7149.6172"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="3612.5" y="7171.8867">loop</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="487" x="3707.5" y="7172.8867">[X times for each transfer in bulk message]</text><polygon fill="#383838" points="4380,7216.3477,4390,7220.3477,4380,7224.3477,4384,7220.3477" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="7220.3477" y2="7220.3477"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="7213.707">[46]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="3729" y="7213.707">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="165" x="3795" y="7213.707">/quoterequests</text><polygon fill="#383838" points="3683,7256.2578,3673,7260.2578,3683,7264.2578,3679,7260.2578" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3677" x2="4391" y1="7260.2578" y2="7260.2578"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3689" y="7253.6172">[47]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="97" x="3739" y="7253.6172">response</text><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="3714" y1="7326.0781" y2="7326.0781"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3714" x2="3714" y1="7326.0781" y2="7339.0781"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3673" x2="3714" y1="7339.0781" y2="7339.0781"/><polygon fill="#383838" points="3683,7335.0781,3673,7339.0781,3683,7343.0781,3679,7339.0781" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="7306.4824">[48]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="272" x="3729" y="7293.5273">Update transaction status</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="285" x="3729" y="7319.4375">and attach quote response</text><polygon fill="#383838" points="2792,7388.9883,2782,7392.9883,2792,7396.9883,2788,7392.9883" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2786" x2="3671" y1="7392.9883" y2="7392.9883"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2798" y="7386.3477">[49]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="2848" y="7386.3477">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="178" x="2899" y="7386.3477">/bulkquotes/{id)</text><polygon fill="#383838" points="2215,7428.8984,2205,7432.8984,2215,7436.8984,2211,7432.8984" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2209" x2="2780" y1="7432.8984" y2="7432.8984"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2221" y="7426.2578">[50]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="2271" y="7426.2578">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="178" x="2322" y="7426.2578">/bulkquotes/{id)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="7498.7188" y2="7498.7188"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="7498.7188" y2="7511.7188"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="7511.7188" y2="7511.7188"/><polygon fill="#383838" points="2215,7507.7188,2205,7511.7188,2215,7515.7188,2211,7511.7188" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="7479.123">[51]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="272" x="2261" y="7466.168">Update transaction status</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="285" x="2261" y="7492.0781">and attach quote response</text><path d="M668,7533.7188 L742,7533.7188 L742,7550.7188 L732,7560.7188 L668,7560.7188 L668,7533.7188 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="2617.7344" style="stroke: #000000; stroke-width: 2.0;" width="2739" x="668" y="7533.7188"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="683" y="7555.9883">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="257" x="757" y="7556.9883">[if (!autoAcceptQuote)]</text><path d="M678,7579.5391 L752,7579.5391 L752,7596.5391 L742,7606.5391 L678,7606.5391 L678,7579.5391 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="2564.9141" style="stroke: #000000; stroke-width: 2.0;" width="2719" x="678" y="7579.5391"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="693" y="7601.8086">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="767" y="7602.8086">[if (synchronous)]</text><polygon fill="#383838" points="1699,7646.2695,1689,7650.2695,1699,7654.2695,1695,7650.2695" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1693" x2="2203" y1="7650.2695" y2="7650.2695"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1705" y="7643.6289">[52]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="442" x="1755" y="7643.6289">Response &lt;bulkQuoteRequestResponse&gt;</text><polygon fill="#383838" points="1183,7686.1797,1173,7690.1797,1183,7694.1797,1179,7690.1797" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1177" x2="1687" y1="7690.1797" y2="7690.1797"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1189" y="7683.5391">[53]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="442" x="1239" y="7683.5391">Response &lt;bulkQuoteRequestResponse&gt;</text><polygon fill="#383838" points="748,7726.0898,738,7730.0898,748,7734.0898,744,7730.0898" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="742" x2="1171" y1="7730.0898" y2="7730.0898"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="754" y="7723.4492">[54]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="259" x="804" y="7723.4492">Present Quote Response</text><polygon fill="#383838" points="1160,7766,1170,7770,1160,7774,1164,7770" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="737" x2="1166" y1="7770" y2="7770"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="744" y="7763.3594">[55]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="143" x="794" y="7763.3594">Accept Quote</text><polygon fill="#383838" points="1676,7805.9102,1686,7809.9102,1676,7813.9102,1680,7809.9102" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1172" x2="1682" y1="7809.9102" y2="7809.9102"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1179" y="7803.2695">[56]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1229" y="7803.2695">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1280" y="7803.2695">/bulkTransfers/{bulkTransferId}</text><polygon fill="#383838" points="2192,7845.8203,2202,7849.8203,2192,7853.8203,2196,7849.8203" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1688" x2="2198" y1="7849.8203" y2="7849.8203"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1695" y="7843.1797">[57]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1745" y="7843.1797">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1796" y="7843.1797">/bulkTransfers/{bulkTransferId}</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="678" x2="3397" y1="7858.8203" y2="7858.8203"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="683" y="7880.0898">[if (!synchronous)]</text><polygon fill="#383838" points="1699,8708.9004,1689,8712.9004,1699,8716.9004,1695,8712.9004" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1693" x2="2203" y1="8712.9004" y2="8712.9004"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1705" y="8706.2598">[58]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1755" y="8706.2598">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1806" y="8706.2598">/bulkTransfers/{bulkTransferId}</text><path d="M2209,7890.7305 L2209,9506.7305 L3378,9506.7305 L3378,7900.7305 L3368,7890.7305 L2209,7890.7305 " fill="#ECECEC" filter="url(#f2sxg19o170l8)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M3368,7890.7305 L3368,7900.7305 L3378,7900.7305 L3368,7890.7305 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="317" x="2215" y="7917">bulkQuoteRequestResponse</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2215" y="7942.9102">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="588" x="2229" y="7968.8203">"bulkHomeTransactionID": "string", # external identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="118" x="2229" y="7994.7305">"options": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="405" x="2257" y="8020.6406">"onlyValidateParty": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="208" x="2257" y="8046.5508">"autoAcceptParty": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="287" x="2285" y="8072.4609">"enabled": "true" # boolean</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2257" y="8098.3711">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="221" x="2257" y="8124.2813">"autoAcceptQuote": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="308" x="2285" y="8150.1914">"enabled": "true", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1078" x="2285" y="8176.1016">"transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2257" y="8202.0117">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="401" x="2257" y="8227.9219">"skipPartyLookup": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="361" x="2257" y="8253.832">"synchronous": "fase", # (boolean)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="619" x="2257" y="8279.7422">"bulkExpiration": DateTime, # expiration date time (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2229" y="8305.6523">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="466" x="2229" y="8331.5625">"from": { "partyIdInfo": {} # (partyIdInfo type)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2285" y="8357.4727">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="234" x="2229" y="8383.3828">"individualtransfers": [</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2285" y="8409.293">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="745" x="2299" y="8435.2031">"homeTransactionId": "string", # Payer DFSP CBS Transaction identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="538" x="2299" y="8461.1133">"transactionId": "UUID", # Created by ML connector</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="463" x="2299" y="8487.0234">"reference": "string", # Payer Loan reference</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="2299" y="8512.9336">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="153" x="2313" y="8538.8438">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="259" x="2327" y="8564.7539">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="264" x="2327" y="8590.6641">"partyIdentifier": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="306" x="2327" y="8616.5742">"partySubIdOrType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="168" x="2327" y="8642.4844">"fspId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2327" y="8668.3945">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2313" y="8694.3047">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="530" x="2299" y="8720.2148">"amountType": "RECEIVE" # SEND, RECEIVE (Enum)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="2299" y="8746.125">"currency" : "XXX" # (Enum)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="382" x="2299" y="8772.0352">"amount": "100.0", # money (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="156" x="2299" y="8797.9453">"note": "string"</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="655" x="2299" y="8823.8555">"quoteRequestExtensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="676" x="2299" y="8849.7656">"transferRequestExtensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="201" x="2299" y="8875.6758">"quoteResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="571" x="2313" y="8901.5859">"transferAmount": {"currency": "AED","amount": "0.7"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="655" x="2313" y="8927.4961">"payeeReceiveAmount": {"currency": "AED","amount": "0.922"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="613" x="2313" y="8953.4063">"payeeFspFee": {"currency": "AED","amount": "67247160"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="724" x="2313" y="8979.3164">"payeeFspCommission": {"currency": "AED","amount": "829358883"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="540" x="2313" y="9005.2266">"expiration": "6286-11-29T16:19:08.300+06:14",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="567" x="2313" y="9031.1367">"geoCode": {"latitude": "5.9","longitude": "180.0000"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="494" x="2313" y="9057.0469">"ilpPacket": "XqOB5HUGEifQ-ebr0TAVAgD3...",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="308" x="2313" y="9082.957">"condition": "gZI4iD9u_Yc...",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2313" y="9108.8672">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2299" y="9134.7773">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="127" x="2299" y="9160.6875">"lastError": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="215" x="2313" y="9186.5977">"httpStatusCode": 0,</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="192" x="2313" y="9212.5078">"mojaloopError": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="216" x="2327" y="9238.418">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="217" x="2341" y="9264.3281">"errorCode": "8812",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="2341" y="9290.2383">"errorDescription": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2341" y="9316.1484">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2327" y="9342.0586">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2313" y="9367.9688">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2299" y="9393.8789">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2285" y="9419.7891">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2229" y="9445.6992">],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="508" x="2229" y="9471.6094">"extensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2215" y="9497.5195">}</text><polygon fill="#383838" points="2192,9544.0703,2202,9548.0703,2192,9552.0703,2196,9548.0703" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1688" x2="2198" y1="9548.0703" y2="9548.0703"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1695" y="9541.4297">[59]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1745" y="9541.4297">Receive HTTP 202 response</text><polygon fill="#383838" points="1183,9583.9805,1173,9587.9805,1183,9591.9805,1179,9587.9805" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1177" x2="1687" y1="9587.9805" y2="9587.9805"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1189" y="9581.3398">[60]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1239" y="9581.3398">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1290" y="9581.3398">/bulkTransfers/{bulkTransferId}</text><polygon fill="#383838" points="1676,9623.8906,1686,9627.8906,1676,9631.8906,1680,9627.8906" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1172" x2="1682" y1="9627.8906" y2="9627.8906"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1179" y="9621.25">[61]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1229" y="9621.25">Receive HTTP 202 response</text><polygon fill="#383838" points="748,9663.8008,738,9667.8008,748,9671.8008,744,9667.8008" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="742" x2="1171" y1="9667.8008" y2="9667.8008"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="754" y="9661.1602">[62]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="259" x="804" y="9661.1602">Present Quote Response</text><polygon fill="#383838" points="1160,9703.7109,1170,9707.7109,1160,9711.7109,1164,9707.7109" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="737" x2="1166" y1="9707.7109" y2="9707.7109"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="744" y="9701.0703">[63]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="143" x="794" y="9701.0703">Accept Quote</text><polygon fill="#383838" points="1676,9743.6211,1686,9747.6211,1676,9751.6211,1680,9747.6211" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1172" x2="1682" y1="9747.6211" y2="9747.6211"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1179" y="9740.9805">[64]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1229" y="9740.9805">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1280" y="9740.9805">/bulkTransfers/{bulkTransferId}</text><polygon fill="#383838" points="2192,9918.082,2202,9922.082,2192,9926.082,2196,9922.082" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1688" x2="2198" y1="9922.082" y2="9922.082"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1695" y="9915.4414">[65]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1745" y="9915.4414">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1796" y="9915.4414">/bulkTransfers/{bulkTransferId}</text><path d="M829,9760.6211 L829,10055.6211 L1679,10055.6211 L1679,9770.6211 L1669,9760.6211 L829,9760.6211 " fill="#ECECEC" filter="url(#f2sxg19o170l8)" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1669,9760.6211 L1669,9770.6211 L1679,9770.6211 L1669,9760.6211 " fill="#ECECEC" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="195" x="835" y="9786.8906">bulkAcceptQuote</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="835" y="9812.8008">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="588" x="849" y="9838.7109">"bulkHomeTransactionID": "string", # external identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="234" x="849" y="9864.6211">"individualtransfers": [</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="905" y="9890.5313">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="745" x="919" y="9916.4414">"homeTransactionId": "string", # Payer DFSP CBS Transaction identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="538" x="919" y="9942.3516">"transactionId": "UUID", # Created by ML connector</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="329" x="919" y="9968.2617">"acceptQuote": "true" #boolean</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="905" y="9994.1719">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="849" y="10020.082">],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="835" y="10045.9922">}</text><polygon fill="#383838" points="1699,10092.543,1689,10096.543,1699,10100.543,1695,10096.543" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1693" x2="2203" y1="10096.543" y2="10096.543"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1705" y="10089.9023">[66]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1755" y="10089.9023">Receive HTTP 202 response</text><polygon fill="#383838" points="1183,10132.4531,1173,10136.4531,1183,10140.4531,1179,10136.4531" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1177" x2="1687" y1="10136.4531" y2="10136.4531"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1189" y="10129.8125">[67]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1239" y="10129.8125">Receive HTTP 202 response</text><path d="M1947,10165.4531 L2042,10165.4531 L2042,10182.4531 L2032,10192.4531 L1947,10192.4531 L1947,10165.4531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1709.5078" style="stroke: #000000; stroke-width: 2.0;" width="2559.5" x="1947" y="10165.4531"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="1962" y="10187.7227">loop</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="860" x="2057" y="10188.7227">[Transfer Processing (M times &amp; within bulkExpiration timelimit  in parallel)]</text><polygon fill="#ECECEC" filter="url(#f2sxg19o170l8)" points="1967,10209.2734,2189,10209.2734,2199,10238.2734,2189,10268.2734,1967,10268.2734,1957,10238.2734,1967,10209.2734" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="218" x="1969" y="10234.543">For each payee DFSP</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="174" x="1969" y="10260.4531">in bulk message</text><path d="M2129.5,10281.0938 L2203.5,10281.0938 L2203.5,10298.0938 L2193.5,10308.0938 L2129.5,10308.0938 L2129.5,10281.0938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="143.5508" style="stroke: #000000; stroke-width: 2.0;" width="594.5" x="2129.5" y="10281.0938"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="2144.5" y="10303.3633">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="253" x="2218.5" y="10304.3633">[if (AutoAcceptQuote)]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="10403.6445" y2="10403.6445"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="10403.6445" y2="10416.6445"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="10416.6445" y2="10416.6445"/><polygon fill="#383838" points="2215,10412.6445,2205,10416.6445,2215,10420.6445,2211,10416.6445" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="10371.0938">[68]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="407" x="2261" y="10345.1836">Confirm Fees meets auto accept levels</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="437" x="2268" y="10371.0938">and bulkExpiration timelimit not reached</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="280" x="2261" y="10397.0039">-&gt; Update Transfer Status</text><path d="M2129.5,10438.6445 L2203.5,10438.6445 L2203.5,10455.6445 L2193.5,10465.6445 L2129.5,10465.6445 L2129.5,10438.6445 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1429.3164" style="stroke: #000000; stroke-width: 2.0;" width="2367" x="2129.5" y="10438.6445"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="2144.5" y="10460.9141">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="228" x="2218.5" y="10461.9141">[if (AcceptedQuote)]</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="10561.1953" y2="10561.1953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="10561.1953" y2="10574.1953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="10574.1953" y2="10574.1953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2215" y1="10574.1953" y2="10570.1953"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2215" y1="10574.1953" y2="10578.1953"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="10528.6445">[69]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="222" x="2261" y="10502.7344">Calculate bulk expiry</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="436" x="2261" y="10528.6445">based on both expirySeconds config and</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="155" x="2261" y="10554.5547">bulkExpiration</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2779" x2="2769" y1="10614.1055" y2="10610.1055"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2779" x2="2769" y1="10614.1055" y2="10618.1055"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2209" x2="2780" y1="10614.1055" y2="10614.1055"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2216" y="10607.4648">[70]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="2266" y="10607.4648">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="153" x="2332" y="10607.4648">/bulktransfers</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="2823" y1="10654.0156" y2="10654.0156"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2823" x2="2823" y1="10654.0156" y2="10667.0156"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2782" x2="2823" y1="10667.0156" y2="10667.0156"/><polygon fill="#383838" points="2792,10663.0156,2782,10667.0156,2792,10671.0156,2788,10667.0156" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2788" y="10647.375">[71]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="552" x="2838" y="10647.375">Perform liquidity(NDC)check at indivial transfer level</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="2823" y1="10706.9258" y2="10706.9258"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2823" x2="2823" y1="10706.9258" y2="10719.9258"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2782" x2="2823" y1="10719.9258" y2="10719.9258"/><polygon fill="#383838" points="2792,10715.9258,2782,10719.9258,2792,10723.9258,2788,10719.9258" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2788" y="10700.2852">[72]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="406" x="2838" y="10700.2852">Reserve Funds at indivial transfer level</text><line style="stroke: #383838; stroke-width: 1.0;" x1="3670" x2="3660" y1="10759.8359" y2="10755.8359"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3670" x2="3660" y1="10759.8359" y2="10763.8359"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="3671" y1="10759.8359" y2="10759.8359"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2788" y="10753.1953">[73]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="2838" y="10753.1953">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="153" x="2904" y="10753.1953">/bulktransfers</text><polygon fill="#383838" points="4380,10821.6563,4390,10825.6563,4380,10829.6563,4384,10825.6563" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="10825.6563" y2="10825.6563"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="10806.0605">[74]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="3729" y="10793.1055">GET</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="500" x="3780" y="10793.1055">/functionSupport?HasSupportForBulkTransfers</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="639" x="3736" y="10819.0156"># check to see if the core connector supports bulk transfers</text><path d="M3587.5,10840.6563 L3661.5,10840.6563 L3661.5,10857.6563 L3651.5,10867.6563 L3587.5,10867.6563 L3587.5,10840.6563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="436.832" style="stroke: #000000; stroke-width: 2.0;" width="889" x="3587.5" y="10840.6563"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="3602.5" y="10862.9258">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="381" x="3676.5" y="10863.9258">[if (HasSupportForBulkTransfers)]</text><polygon fill="#383838" points="4380,10907.3867,4390,10911.3867,4380,10915.3867,4384,10911.3867" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="10911.3867" y2="10911.3867"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="10904.7461">[75]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="3729" y="10904.7461">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="153" x="3795" y="10904.7461">/bulktransfers</text><polygon fill="#383838" points="3683,10947.2969,3673,10951.2969,3683,10955.2969,3679,10951.2969" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3677" x2="4391" y1="10951.2969" y2="10951.2969"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3689" y="10944.6563">[76]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="97" x="3739" y="10944.6563">response</text><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="3714" y1="11017.1172" y2="11017.1172"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3714" x2="3714" y1="11017.1172" y2="11030.1172"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3673" x2="3714" y1="11030.1172" y2="11030.1172"/><polygon fill="#383838" points="3683,11026.1172,3673,11030.1172,3683,11034.1172,3679,11030.1172" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="10997.5215">[77]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="295" x="3729" y="10984.5664">Update transaction statuses</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="317" x="3729" y="11010.4766">and attach transfer responses</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3587.5" x2="4476.5" y1="11039.1172" y2="11039.1172"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="388" x="3592.5" y="11060.3867">[if (!HasSupportForBulkTransfers)]</text><path d="M3597.5,11073.0273 L3692.5,11073.0273 L3692.5,11090.0273 L3682.5,11100.0273 L3597.5,11100.0273 L3597.5,11073.0273 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="197.4609" style="stroke: #000000; stroke-width: 2.0;" width="869" x="3597.5" y="11073.0273"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="3612.5" y="11095.2969">loop</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="487" x="3707.5" y="11096.2969">[X times for each transfer in bulk message]</text><polygon fill="#383838" points="4380,11139.7578,4390,11143.7578,4380,11147.7578,4384,11143.7578" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="11143.7578" y2="11143.7578"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="11137.1172">[78]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="3729" y="11137.1172">POST</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="106" x="3795" y="11137.1172">/transfers</text><polygon fill="#383838" points="3683,11179.668,3673,11183.668,3683,11187.668,3679,11183.668" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3677" x2="4391" y1="11183.668" y2="11183.668"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3689" y="11177.0273">[79]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="97" x="3739" y="11177.0273">response</text><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="3714" y1="11249.4883" y2="11249.4883"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3714" x2="3714" y1="11249.4883" y2="11262.4883"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3673" x2="3714" y1="11262.4883" y2="11262.4883"/><polygon fill="#383838" points="3683,11258.4883,3673,11262.4883,3683,11266.4883,3679,11262.4883" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="11229.8926">[80]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="272" x="3729" y="11216.9375">Update transaction status</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="306" x="3729" y="11242.8477">and attach transfer response</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="2791" y1="11316.3984" y2="11312.3984"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="2791" y1="11316.3984" y2="11320.3984"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="3671" y1="11316.3984" y2="11316.3984"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2798" y="11309.7578">[81]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="2848" y="11309.7578">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="331" x="2899" y="11309.7578">/bulktransfers/{id} (BulkStatus)</text><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2781" x2="2823" y1="11356.3086" y2="11356.3086"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2823" x2="2823" y1="11356.3086" y2="11369.3086"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="2782" x2="2823" y1="11369.3086" y2="11369.3086"/><polygon fill="#383838" points="2792,11365.3086,2782,11369.3086,2792,11373.3086,2788,11369.3086" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2788" y="11349.668">[82]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="406" x="2838" y="11349.668">Commit funds at indivial transfer level</text><path d="M2712,11384.3086 L2786,11384.3086 L2786,11401.3086 L2776,11411.3086 L2712,11411.3086 L2712,11384.3086 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="357.9219" style="stroke: #000000; stroke-width: 2.0;" width="1774.5" x="2712" y="11384.3086"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="2727" y="11406.5781">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="355" x="2801" y="11407.5781">[if (bulkStatus == 'Processing')]</text><polygon fill="#383838" points="3660,11451.0391,3670,11455.0391,3660,11459.0391,3664,11455.0391" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2781" x2="3666" y1="11455.0391" y2="11455.0391"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2788" y="11448.3984">[83]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="2838" y="11448.3984">PATCH</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="331" x="2922" y="11448.3984">/bulktransfers/{id} (BulkStatus)</text><polygon fill="#383838" points="4380,11516.8594,4390,11520.8594,4380,11524.8594,4384,11520.8594" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="11520.8594" y2="11520.8594"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="11501.2637">[84]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="3729" y="11488.3086">GET</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="500" x="3780" y="11488.3086">/functionSupport?HasSupportForBulkTransfers</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="639" x="3736" y="11514.2188"># check to see if the core connector supports bulk transfers</text><path d="M3587.5,11535.8594 L3661.5,11535.8594 L3661.5,11552.8594 L3651.5,11562.8594 L3587.5,11562.8594 L3587.5,11535.8594 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="199.3711" style="stroke: #000000; stroke-width: 2.0;" width="889" x="3587.5" y="11535.8594"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="3602.5" y="11558.1289">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="381" x="3676.5" y="11559.1289">[if (HasSupportForBulkTransfers)]</text><polygon fill="#383838" points="4380,11602.5898,4390,11606.5898,4380,11610.5898,4384,11606.5898" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="11606.5898" y2="11606.5898"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="11599.9492">[85]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="3729" y="11599.9492">PATCH</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="335" x="3813" y="11599.9492">/bulktransfers/{bulkTransferId}</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="3587.5" x2="4476.5" y1="11615.5898" y2="11615.5898"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="388" x="3592.5" y="11636.8594">[if (!HasSupportForBulkTransfers)]</text><path d="M3597.5,11649.5 L3692.5,11649.5 L3692.5,11666.5 L3682.5,11676.5 L3597.5,11676.5 L3597.5,11649.5 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="78.7305" style="stroke: #000000; stroke-width: 2.0;" width="869" x="3597.5" y="11649.5"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="3612.5" y="11671.7695">loop</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="487" x="3707.5" y="11672.7695">[X times for each transfer in bulk message]</text><polygon fill="#383838" points="4380,11716.2305,4390,11720.2305,4380,11724.2305,4384,11720.2305" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="3672" x2="4386" y1="11720.2305" y2="11720.2305"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="3679" y="11713.5898">[86]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="77" x="3729" y="11713.5898">PATCH</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="241" x="3813" y="11713.5898">/transfers/{TransferId}</text><polygon fill="#383838" points="2215,11777.1406,2205,11781.1406,2215,11785.1406,2211,11781.1406" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2209" x2="2780" y1="11781.1406" y2="11781.1406"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2221" y="11774.5">[87]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="2271" y="11774.5">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="199" x="2322" y="11774.5">/bulktransfers/{id}</text><line style="stroke: #383838; stroke-width: 1.0;" x1="2204" x2="2246" y1="11846.9609" y2="11846.9609"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2246" x2="2246" y1="11846.9609" y2="11859.9609"/><line style="stroke: #383838; stroke-width: 1.0;" x1="2205" x2="2246" y1="11859.9609" y2="11859.9609"/><polygon fill="#383838" points="2215,11855.9609,2205,11859.9609,2215,11863.9609,2211,11859.9609" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="2211" y="11827.3652">[88]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="272" x="2261" y="11814.4102">Update transaction status</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="371" x="2261" y="11840.3203">and attach bulk transfers response</text><polygon fill="#ECECEC" filter="url(#f2sxg19o170l8)" points="2219,11886.9609,3191,11886.9609,3201,12602.9609,3191,13319.9609,2219,13319.9609,2209,12602.9609,2219,11886.9609" style="stroke: #383838; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="254" x="2221" y="11912.2305">bulkTransferResponse</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2221" y="11938.1406">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="585" x="2228" y="11964.0508">"homeBulkTransactionID": "string", # external identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="619" x="2228" y="11989.9609">"bulkExpiration": DateTime, # expiration date time (string)</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="704" x="2228" y="12015.8711">"currentState": "COMPLETED", # status of the bulk transfer request</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="305" x="2228" y="12041.7813">"individualTransferResults": [</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2249" y="12067.6914">{</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="614" x="2263" y="12093.6016">"transferId": "310e5c51-e4fd-30bc-96ae-6dffee2c54cb",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="745" x="2263" y="12119.5117">"homeTransactionId": "string", # Payer DFSP CBS Transaction identifier</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="926" x="2263" y="12145.4219">"transactionId": "string", # Mojaloop bulk transaction Id used to make the bulk transfer</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="59" x="2263" y="12171.332">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="153" x="2277" y="12197.2422">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="259" x="2291" y="12223.1523">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="264" x="2291" y="12249.0625">"partyIdentifier": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="306" x="2291" y="12274.9727">"partySubIdOrType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="168" x="2291" y="12300.8828">"fspId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2291" y="12326.793">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2277" y="12352.7031">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2263" y="12378.6133">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="243" x="2263" y="12404.5234">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="187" x="2263" y="12430.4336">"currency": "AED",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="150" x="2263" y="12456.3438">"amount": "0",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="332" x="2263" y="12482.2539">"transactionType": "TRANSFER",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="163" x="2263" y="12508.1641">"note": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="612" x="2263" y="12534.0742">"quoteId": "4932beab-423e-37b6-8587-49c016d2f5ef",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="655" x="2263" y="12559.9844">"quoteRequestExtensions": [{ "key": "string", "value": "string"}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="669" x="2263" y="12585.8945">"transferRequestExtensions": [{ "key": "string", "value": "string"}]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="201" x="2263" y="12611.8047">"quoteResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="571" x="2277" y="12637.7148">"transferAmount": {"currency": "AED","amount": "0.7"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="655" x="2277" y="12663.625">"payeeReceiveAmount": {"currency": "AED","amount": "0.922"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="613" x="2277" y="12689.5352">"payeeFspFee": {"currency": "AED","amount": "67247160"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="724" x="2277" y="12715.4453">"payeeFspCommission": {"currency": "AED","amount": "829358883"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="540" x="2277" y="12741.3555">"expiration": "6286-11-29T16:19:08.300+06:14",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="567" x="2277" y="12767.2656">"geoCode": {"latitude": "5.9","longitude": "180.0000"},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="494" x="2277" y="12793.1758">"ilpPacket": "XqOB5HUGEifQ-ebr0TAVAgD3...",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="308" x="2277" y="12819.0859">"condition": "gZI4iD9u_Yc...",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2277" y="12844.9961">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="14" x="2263" y="12870.9063">},</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="85" x="2263" y="12896.8164">"fulfil": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="344" x="2277" y="12922.7266">"fulfilment": "UXgB0280lbHM...",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="596" x="2277" y="12948.6367">"completedTimestamp": "5138-01-31T21:10:42.484Z",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="320" x="2277" y="12974.5469">"transferState": "COMMITTED",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2277" y="13000.457">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2263" y="13026.3672">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="127" x="2263" y="13052.2773">"lastError": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="215" x="2277" y="13078.1875">"httpStatusCode": 0,</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="192" x="2277" y="13104.0977">"mojaloopError": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="216" x="2291" y="13130.0078">"errorInformation": {</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="217" x="2305" y="13155.918">"errorCode": "8812",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="289" x="2305" y="13181.8281">"errorDescription": "string",</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="661" x="2305" y="13207.7383">"extensionList": {"extension": [{"key": "string","value": "string"}]}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2277" y="13233.6484">}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="35" x="2235" y="13259.5586">}}}],</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="501" x="2235" y="13285.4688">"extensions": [{ "key": "string", "value": "string"}]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="7" x="2221" y="13311.3789">}</text><path d="M678,13332.0195 L752,13332.0195 L752,13349.0195 L742,13359.0195 L678,13359.0195 L678,13332.0195 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="463.7422" style="stroke: #000000; stroke-width: 2.0;" width="1600.5" x="678" y="13332.0195"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="693" y="13354.2891">alt</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="198" x="767" y="13355.2891">[if (synchronous)]</text><polygon fill="#383838" points="1699,13398.75,1689,13402.75,1699,13406.75,1695,13402.75" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1693" x2="2203" y1="13402.75" y2="13402.75"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1705" y="13396.1094">[89]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="381" x="1755" y="13396.1094">Response &lt;bulkTransferResponse&gt;</text><polygon fill="#383838" points="1183,13438.6602,1173,13442.6602,1183,13446.6602,1179,13442.6602" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1177" x2="1687" y1="13442.6602" y2="13442.6602"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1189" y="13436.0195">[90]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="381" x="1239" y="13436.0195">Response &lt;bulkTransferResponse&gt;</text><polygon fill="#383838" points="748,13478.5703,738,13482.5703,748,13486.5703,744,13482.5703" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="742" x2="1171" y1="13482.5703" y2="13482.5703"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="754" y="13475.9297">[91]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="361" x="804" y="13475.9297">Transafer response(success &amp; fail)</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="678" x2="2278.5" y1="13491.5703" y2="13491.5703"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="683" y="13512.8398">[if (!synchronous)]</text><polygon fill="#383838" points="1699,13598.2109,1689,13602.2109,1699,13606.2109,1695,13602.2109" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1693" x2="2203" y1="13602.2109" y2="13602.2109"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1705" y="13569.6602">[92]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="198" x="1755" y="13543.75">Callback Response</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1755" y="13569.6602">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1806" y="13569.6602">/bulkTransfers/{bulkTransferId}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="354" x="1755" y="13595.5703">Transfer Response(success &amp; fail)</text><polygon fill="#383838" points="2192,13638.1211,2202,13642.1211,2192,13646.1211,2196,13642.1211" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1688" x2="2198" y1="13642.1211" y2="13642.1211"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1695" y="13635.4805">[93]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1745" y="13635.4805">Receive HTTP 202 response</text><polygon fill="#383838" points="1183,13703.9414,1173,13707.9414,1183,13711.9414,1179,13707.9414" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="1177" x2="1687" y1="13707.9414" y2="13707.9414"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1189" y="13688.3457">[94]</text><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="44" x="1239" y="13675.3906">PUT</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="341" x="1290" y="13675.3906">/bulkTransfers/{bulkTransferId}</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="406" x="1239" y="13701.3008">Transfer Status Update (success &amp; fail)</text><polygon fill="#383838" points="1676,13743.8516,1686,13747.8516,1676,13751.8516,1680,13747.8516" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="1172" x2="1682" y1="13747.8516" y2="13747.8516"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="1179" y="13741.2109">[95]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="294" x="1229" y="13741.2109">Receive HTTP 202 response</text><polygon fill="#383838" points="748,13783.7617,738,13787.7617,748,13791.7617,744,13787.7617" style="stroke: #383838; stroke-width: 1.0;"/><line style="stroke: #383838; stroke-width: 1.0;" x1="742" x2="1171" y1="13787.7617" y2="13787.7617"/><text fill="#000000" font-family="sans-serif" font-size="22" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="46" x="754" y="13781.1211">[96]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="361" x="804" y="13781.1211">Transafer response(success &amp; fail)</text><!--MD5=[0c0c65e53875bd980d3f54f05935b071]
@startuml
/'*****
- - - - - - - - - - - - - -
******'/

skinparam activityFontSize 4
skinparam activityDiamondFontSize 30
skinparam activityArrowFontSize 22
skinparam defaultFontSize 22
skinparam noteFontSize 22
skinparam monochrome true
' declare title
' title Bulk Transactions pattern using the Mojaloop Connector
' declare actors
actor "MFI Staff" as MStaff
participant "MFI CBS" as MFI
box "Payment Manager" #LightGrey
participant "Core\nConnector" as MFICC 
participant "Mojaloop\nConnector" as MFIMC 
end box
participant "Mojaloop\nSwitch" as MJW 
participant "Oracle" as Oracle
box "Payment Manager" #LightGrey
participant "Payee\nMojaloop\nConnector" as PayeeFSPMC 
participant "Payee\nCore\nConnector" as PayeeFSPCC 
end box

== Bulk Transfers implemented using Mojaloop bulk transfers ==

autonumber 1 1 "<b>[0]"
MStaff -> MFI: Make bulk disbursement 
MFI -> MFICC: Disburse funds \n **POST** bulkTransfers/
note left
{
   "bulkHomeTransactionID": "string", # external identifier
   "options": {
      "onlyValidateParty": "fase", # (boolean) 
      "autoAcceptParty": {
          "enabled": "true" # boolean
      },
      "autoAcceptQuote": {
        "enabled": "true", # (boolean)
        "transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true
      }
      "skipPartyLookup": "fase", # (boolean)
      "synchronous": "fase", # (boolean)
      "bulkExpiration": DateTime, # expiration date time (string)
    },
   "from": { "partyIdInfo": {} # (partyIdInfo type)
           },                        
   "individualtransfers": [
          {
            "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
            "reference": "string", # Payer Loan reference
            "to": {
              "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "string",
                "partySubIdOrType": "string",
                "fspId": "string",
                "extensionList": {"extension": [{"key": "string","value": "string"}]}
              },
            "amountType": "RECEIVE" # SEND, RECEIVE (Enum)
            "currency" : "XXX" # (Enum)
            "amount": "100.0", # money (string)
            "note": "string"
            "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
            "transferRequestExtensions": [{ "key": "string", "value": "string"}]
            }, ...
          ],
   "extensions": [{ "key": "string", "value": "string"}],
}
end note

Loop n times  (in parallel)
    hnote left of MFICC
        For each transfer
        in bulk message
    end hnote
    MFICC -> MFICC: validate MSISDN & Prefix
    alt MSISDN Failed Validation
    MFICC->MFICC:  Add Last Error to Transfer
    end
end Loop
MFICC- ->MFIMC: **POST** /bulkTransfers
note left
**BulkTransferType**
{
   "bulkHomeTransactionID": "string", # external identifier
   "options": {
      "onlyValidateParty": "fase", # (boolean) 
      "autoAcceptParty": {
          "enabled": "true" # boolean
      },
      "autoAcceptQuote": {
        "enabled": "true", # (boolean)
        "transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true
      }
      "skipPartyLookup": "fase", # (boolean)
      "synchronous": "fase", # (boolean)
      "bulkExpiration": DateTime, # expiration date time (string)
    },
   "from": { "partyIdInfo": {} # (partyIdInfo type)
           },                        
   "individualtransfers": [
          {
            "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
            "reference": "string", # Payer Loan reference
            "to": {
              "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "string",
                "partySubIdOrType": "string",
                "fspId": "string",
                "extensionList": {"extension": [{"key": "string","value": "string"}]}
              },
            "amountType": "RECEIVE" # SEND, RECEIVE (Enum)
            "currency" : "XXX" # (Enum)
            "amount": "100.0", # money (string)
            "note": "string"
            "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
            "transferRequestExtensions": [{ "key": "string", "value": "string"}]
            "lastError": {
              "httpStatusCode": 0,
              "mojaloopError": {
                "errorInformation": {
                  "errorCode": "8812",
                  "errorDescription": "string",
                  "extensionList": {"extension": [{"key": "string","value": "string"}]}
                }
              }
            }, ...
          ],
   "extensions": [{ "key": "string", "value": "string"}],
}
end note
alt if (!synchronous)
MFIMC- ->MFICC: Receive HTTP 202 response
MFI <- - MFICC: Receive HTTP 202 response
end

alt if (!skipPartyLookup)
loop N times & within bulkExpiration timelimit  (in parallel)
hnote left of MFIMC
        For each transfer
        in bulk message
end hnote
  alt if (validTransfer)
    MFIMC -> MFIMC: Create TransactionId
    MFIMC -> MJW: **GET** /parties/*\n<i><PartyIdType>**/**</i><i><PartyId>
    activate MFIMC
    MJW -> Oracle: Lookup DFSP for \nrequested Type/ID
    Oracle-> Oracle: Lookup Party for \nrequested Type/ID
    Oracle->MJW: Return DFSP ID
    MJW->MJW: **GET** /parties/{type}/{id}/{subid}\nMake call to payee DFSP to confirm Party information
    MJW->MFIMC: **PUT** /parties/{type}/{id}
    deactivate MFIMC
    
    MFIMC -> MFIMC: Update transaction status and\n attach get parties response
    MFIMC -> MFIMC: Add to next phase FSP bulk call
  else if (!validTransfer)
    MFIMC->MFIMC: Skip
  end
end Loop
else if (skipPartyLookup)
  loop N times & within bulkExpiration timelimit 
    MFIMC->MFIMC: Validate party info \n Add to next phase FSP bulk call
  end loop
end
MFIMC->MFIMC: if(transferStatusValid) Group into M Payee DFSPs

alt if (!autoAcceptParty)
  alt if (synchronous)
    MFIMC- ->MFICC: Response <bulkPartyLookupResponse>
    MFI <- - MFICC: Response <bulkPartyLookupResponse>
    MFI->MStaff: Present Party Response
    MStaff->MFI: Accept Party
    MFI->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    MFICC->MFIMC: **PUT** /bulkTransfers/{bulkTransferId}
  else if (!synchronous)
    MFIMC->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    note right
      **bulkPartyLookupResponse**
      {
        "bulkHomeTransactionID": "string", # external identifier
        "options": {
            "onlyValidateParty": "fase", # (boolean) 
            "autoAcceptParty": {
                "enabled": "true" # boolean
            },
            "autoAcceptQuote": {
                "enabled": "true", # (boolean)
                "transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true
            }
            "skipPartyLookup": "fase", # (boolean)
            "synchronous": "fase", # (boolean)
            "bulkExpiration": DateTime, # expiration date time (string)
        },
        "from": { "partyIdInfo": {} # (partyIdInfo type)
                },                        
        "individualtransfers": [
                {
                  "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
                  "transactionId": "UUID", # Created by ML connector
                  "reference": "string", # Payer Loan reference
                  "to": {
                    "partyIdInfo": {
                      "partyIdType": "MSISDN",
                      "partyIdentifier": "string",
                      "partySubIdOrType": "string",
                      "fspId": "string",
                      "extensionList": {"extension": [{"key": "string","value": "string"}]}
                    },
                  "amountType": "RECEIVE" # SEND, RECEIVE (Enum)
                  "currency" : "XXX" # (Enum)
                  "amount": "100.0", # money (string)
                  "note": "string"
                  "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
                  "transferRequestExtensions": [{ "key": "string", "value": "string"}]
                  "lastError": {
                    "httpStatusCode": 0,
                    "mojaloopError": {
                      "errorInformation": {
                        "errorCode": "8812",1
                        "errorDescription": "string",
                        "extensionList": {"extension": [{"key": "string","value": "string"}]}
                      }
                    }
                  }
                }
        ],
        "extensions": [{ "key": "string", "value": "string"}],
      }
    end note
    MFICC- ->MFIMC: Receive HTTP 202 response
    MFICC->MFI: **PUT** /bulkTransfers/{bulkTransferId}
    MFI- ->MFICC: Receive HTTP 202 response
    MFI->MStaff: Present Party Response
    MStaff->MFI: Accept Party
    MFI->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    MFICC->MFIMC: **PUT** /bulkTransfers/{bulkTransferId}
    note left
      **bulkTransferContinuationAcceptParty**
      {
        "bulkHomeTransactionID": "string", # external identifier                    
        "individualtransfers": [
                {
                  "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
                  "transactionId": "UUID", # Created by ML connector
                  "acceptParty": "true" # (boolean)
                }
        ],
      }
    end note    
    MFIMC- ->MFICC: Receive HTTP 202 response
    MFI <- - MFICC: Receive HTTP 202 response
  end
end

loop Quote Processing (M times & within bulkExpiration timelimit in parallel)
hnote left of MFIMC
        For each payee DFSP
        in bulk message
end hnote
    MFIMC->MFIMC: Check bulkExpiration
    MFIMC->MFIMC: Create bulkTransactionId
    MFIMC ->> MFIMC: Calculate bulk expiry \nbased on both expirySeconds config and \nbulkExpiration
    MFIMC ->> MJW: **POST** /bulkquotes
    activate MFIMC
    MJW->PayeeFSPMC: **POST** /bulkquotes 
    PayeeFSPMC->PayeeFSPCC: **GET** /functionSupport?HasSupportForBulkQuotes \n # check to see if the core connector supports bulk quotes
    PayeeFSPCC- ->PayeeFSPMC: Reponse HasSupportForBulkQuotes 
    alt if (HasSupportForBulkQuotes)
      PayeeFSPMC->PayeeFSPCC: **POST** /bulkquotes  
      PayeeFSPCC- ->PayeeFSPMC: Reponse bulkquotes Response
      PayeeFSPMC -> PayeeFSPMC: Update transaction statuses \nand attach quote responses
    else if (!HasSupportForBulkQuotes)
      loop X times for each transfer in bulk message
        PayeeFSPMC->PayeeFSPCC: **POST** /quoterequests  
        PayeeFSPCC- ->PayeeFSPMC: response
        PayeeFSPMC -> PayeeFSPMC: Update transaction status \nand attach quote response
      end Loop
    end
    PayeeFSPMC->MJW: **PUT** /bulkquotes/{id)
    MJW->MFIMC: **PUT** /bulkquotes/{id)
    deactivate  MFIMC
    MFIMC -> MFIMC: Update transaction status \nand attach quote response
end loop

alt if (!autoAcceptQuote)
  alt if (synchronous)
    MFIMC- ->MFICC: Response <bulkQuoteRequestResponse>
    MFI <- - MFICC: Response <bulkQuoteRequestResponse>
    MFI->MStaff: Present Quote Response
    MStaff->MFI: Accept Quote
    MFI->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    MFICC->MFIMC: **PUT** /bulkTransfers/{bulkTransferId}
  else if (!synchronous)
    MFIMC->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    note right
      **bulkQuoteRequestResponse**
      {
        "bulkHomeTransactionID": "string", # external identifier
        "options": {
            "onlyValidateParty": "fase", # (boolean) 
            "autoAcceptParty": {
                "enabled": "true" # boolean
            },
            "autoAcceptQuote": {
                "enabled": "true", # (boolean)
                "transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true
            }
            "skipPartyLookup": "fase", # (boolean)
            "synchronous": "fase", # (boolean)
            "bulkExpiration": DateTime, # expiration date time (string)
        },
        "from": { "partyIdInfo": {} # (partyIdInfo type)
                },                        
        "individualtransfers": [
                {
                  "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
                  "transactionId": "UUID", # Created by ML connector
                  "reference": "string", # Payer Loan reference
                  "to": {
                    "partyIdInfo": {
                      "partyIdType": "MSISDN",
                      "partyIdentifier": "string",
                      "partySubIdOrType": "string",
                      "fspId": "string",
                      "extensionList": {"extension": [{"key": "string","value": "string"}]}
                    },
                  "amountType": "RECEIVE" # SEND, RECEIVE (Enum)
                  "currency" : "XXX" # (Enum)
                  "amount": "100.0", # money (string)
                  "note": "string"
                  "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
                  "transferRequestExtensions": [{ "key": "string", "value": "string"}],
                  "quoteResponse": {
                    "transferAmount": {"currency": "AED","amount": "0.7"},
                    "payeeReceiveAmount": {"currency": "AED","amount": "0.922"},
                    "payeeFspFee": {"currency": "AED","amount": "67247160"},
                    "payeeFspCommission": {"currency": "AED","amount": "829358883"},
                    "expiration": "6286-11-29T16:19:08.300+06:14",
                    "geoCode": {"latitude": "5.9","longitude": "180.0000"},
                    "ilpPacket": "XqOB5HUGEifQ-ebr0TAVAgD3...",
                    "condition": "gZI4iD9u_Yc...",
                    "extensionList": {"extension": [{"key": "string","value": "string"}]}
                  },
                  "lastError": {
                    "httpStatusCode": 0,
                    "mojaloopError": {
                      "errorInformation": {
                        "errorCode": "8812",
                        "errorDescription": "string",
                        "extensionList": {"extension": [{"key": "string","value": "string"}]}
                      }
                    }
                  }
                }
        ],
        "extensions": [{ "key": "string", "value": "string"}],
      }
    end note
    MFICC- ->MFIMC: Receive HTTP 202 response
    MFICC->MFI: **PUT** /bulkTransfers/{bulkTransferId}
    MFI- ->MFICC: Receive HTTP 202 response
    MFI->MStaff: Present Quote Response
    MStaff->MFI: Accept Quote
    MFI->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    MFICC->MFIMC: **PUT** /bulkTransfers/{bulkTransferId}
    note left
      **bulkAcceptQuote**
      {
        "bulkHomeTransactionID": "string", # external identifier
        "individualtransfers": [
                {
                  "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
                  "transactionId": "UUID", # Created by ML connector
                  "acceptQuote": "true" #boolean
                }                  
        ],
      }
    end note    

    MFIMC- ->MFICC: Receive HTTP 202 response
    MFI <- - MFICC: Receive HTTP 202 response
  end
end


loop Transfer Processing (M times & within bulkExpiration timelimit  in parallel)
  hnote left of MFIMC
        For each payee DFSP
        in bulk message
  end hnote
    alt if (AutoAcceptQuote)
      MFIMC -> MFIMC: Confirm Fees meets auto accept levels\n and bulkExpiration timelimit not reached \n-> Update Transfer Status
    end
 
    alt if (AcceptedQuote)
    MFIMC ->> MFIMC: Calculate bulk expiry \nbased on both expirySeconds config and \nbulkExpiration
    MFIMC ->> MJW: **POST** /bulktransfers
    activate MFIMC
    MJW-> MJW: Perform liquidity(NDC)check at indivial transfer level
    MJW->MJW: Reserve Funds at indivial transfer level
    MJW ->> PayeeFSPMC: **POST** /bulktransfers
    PayeeFSPMC->PayeeFSPCC: **GET** /functionSupport?HasSupportForBulkTransfers \n # check to see if the core connector supports bulk transfers
    alt if (HasSupportForBulkTransfers)
      PayeeFSPMC->PayeeFSPCC: **POST** /bulktransfers  
      PayeeFSPCC- ->PayeeFSPMC: response
      PayeeFSPMC -> PayeeFSPMC:Update transaction statuses \nand attach transfer responses
    else if (!HasSupportForBulkTransfers)
      loop X times for each transfer in bulk message
        PayeeFSPMC->PayeeFSPCC: **POST** /transfers  
        PayeeFSPCC- ->PayeeFSPMC: response
        PayeeFSPMC -> PayeeFSPMC:Update transaction status \nand attach transfer response
      end Loop
    end
    PayeeFSPMC ->> MJW: **PUT** /bulktransfers/{id} (BulkStatus)
    MJW- ->MJW: Commit funds at indivial transfer level
    alt if (bulkStatus == 'Processing')
    MJW -> PayeeFSPMC: **PATCH** /bulktransfers/{id} (BulkStatus)
    PayeeFSPMC->PayeeFSPCC: **GET** /functionSupport?HasSupportForBulkTransfers \n # check to see if the core connector supports bulk transfers
    alt if (HasSupportForBulkTransfers)
      PayeeFSPMC->PayeeFSPCC: **PATCH** /bulktransfers/{bulkTransferId}  
    else if (!HasSupportForBulkTransfers)
      loop X times for each transfer in bulk message
        PayeeFSPMC->PayeeFSPCC: **PATCH** /transfers/{TransferId}  
      end Loop
    end
    end
    MJW->MFIMC:**PUT** /bulktransfers/{id}
   
    deactivate MFIMC 
    MFIMC -> MFIMC: Update transaction status \nand attach bulk transfers response
    end
end loop
hnote right MFIMC
**bulkTransferResponse**
{
 "homeBulkTransactionID": "string", # external identifier
 "bulkExpiration": DateTime, # expiration date time (string)
 "currentState": "COMPLETED", # status of the bulk transfer request
 "individualTransferResults": [
    {
      "transferId": "310e5c51-e4fd-30bc-96ae-6dffee2c54cb",
      "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
      "transactionId": "string", # Mojaloop bulk transaction Id used to make the bulk transfer
      "to": {
        "partyIdInfo": {
          "partyIdType": "MSISDN",
          "partyIdentifier": "string",
          "partySubIdOrType": "string",
          "fspId": "string",
          "extensionList": {"extension": [{"key": "string","value": "string"}]}
        }
      },
      "amountType": "SEND",
      "currency": "AED",
      "amount": "0",
      "transactionType": "TRANSFER",
      "note": "string",
      "quoteId": "4932beab-423e-37b6-8587-49c016d2f5ef",
      "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
      "transferRequestExtensions": [{ "key": "string", "value": "string"}]
      "quoteResponse": {
        "transferAmount": {"currency": "AED","amount": "0.7"},
        "payeeReceiveAmount": {"currency": "AED","amount": "0.922"},
        "payeeFspFee": {"currency": "AED","amount": "67247160"},
        "payeeFspCommission": {"currency": "AED","amount": "829358883"},
        "expiration": "6286-11-29T16:19:08.300+06:14",
        "geoCode": {"latitude": "5.9","longitude": "180.0000"},
        "ilpPacket": "XqOB5HUGEifQ-ebr0TAVAgD3...",
        "condition": "gZI4iD9u_Yc...",
        "extensionList": {"extension": [{"key": "string","value": "string"}]}
      },
      "fulfil": {
        "fulfilment": "UXgB0280lbHM...",
        "completedTimestamp": "5138-01-31T21:10:42.484Z",
        "transferState": "COMMITTED",
        "extensionList": {"extension": [{"key": "string","value": "string"}]}
      }
      "lastError": {
        "httpStatusCode": 0,
        "mojaloopError": {
          "errorInformation": {
            "errorCode": "8812",
            "errorDescription": "string",
            "extensionList": {"extension": [{"key": "string","value": "string"}]}
        }
  }}}],
  "extensions": [{ "key": "string", "value": "string"}]
} 
end hnote    
alt if (synchronous)
    MFIMC->MFICC: Response <bulkTransferResponse>
    MFICC->MFI: Response <bulkTransferResponse>
    MFI->MStaff: Transafer response(success & fail)
else if (!synchronous)
    MFIMC->MFICC:Callback Response \n**PUT** /bulkTransfers/{bulkTransferId}\nTransfer Response(success & fail)
    MFICC- ->MFIMC: Receive HTTP 202 response
    MFICC->MFI: **PUT** /bulkTransfers/{bulkTransferId}\nTransfer Status Update (success & fail)
    MFI- ->MFICC: Receive HTTP 202 response
    MFI->MStaff: Transafer response(success & fail)
end
@enduml

@startuml

skinparam activityFontSize 4
skinparam activityDiamondFontSize 30
skinparam activityArrowFontSize 22
skinparam defaultFontSize 22
skinparam noteFontSize 22
skinparam monochrome true
actor "MFI Staff" as MStaff
participant "MFI CBS" as MFI
box "Payment Manager" #LightGrey
participant "Core\nConnector" as MFICC 
participant "Mojaloop\nConnector" as MFIMC 
end box
participant "Mojaloop\nSwitch" as MJW 
participant "Oracle" as Oracle
box "Payment Manager" #LightGrey
participant "Payee\nMojaloop\nConnector" as PayeeFSPMC 
participant "Payee\nCore\nConnector" as PayeeFSPCC 
end box

== Bulk Transfers implemented using Mojaloop bulk transfers ==

autonumber 1 1 "<b>[0]"
MStaff -> MFI: Make bulk disbursement 
MFI -> MFICC: Disburse funds \n **POST** bulkTransfers/
note left
{
   "bulkHomeTransactionID": "string", # external identifier
   "options": {
      "onlyValidateParty": "fase", # (boolean) 
      "autoAcceptParty": {
          "enabled": "true" # boolean
      },
      "autoAcceptQuote": {
        "enabled": "true", # (boolean)
        "transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true
      }
      "skipPartyLookup": "fase", # (boolean)
      "synchronous": "fase", # (boolean)
      "bulkExpiration": DateTime, # expiration date time (string)
    },
   "from": { "partyIdInfo": {} # (partyIdInfo type)
           },                        
   "individualtransfers": [
          {
            "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
            "reference": "string", # Payer Loan reference
            "to": {
              "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "string",
                "partySubIdOrType": "string",
                "fspId": "string",
                "extensionList": {"extension": [{"key": "string","value": "string"}]}
              },
            "amountType": "RECEIVE" # SEND, RECEIVE (Enum)
            "currency" : "XXX" # (Enum)
            "amount": "100.0", # money (string)
            "note": "string"
            "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
            "transferRequestExtensions": [{ "key": "string", "value": "string"}]
            }, ...
          ],
   "extensions": [{ "key": "string", "value": "string"}],
}
end note

Loop n times  (in parallel)
    hnote left of MFICC
        For each transfer
        in bulk message
    end hnote
    MFICC -> MFICC: validate MSISDN & Prefix
    alt MSISDN Failed Validation
    MFICC->MFICC:  Add Last Error to Transfer
    end
end Loop
MFICC- ->MFIMC: **POST** /bulkTransfers
note left
**BulkTransferType**
{
   "bulkHomeTransactionID": "string", # external identifier
   "options": {
      "onlyValidateParty": "fase", # (boolean) 
      "autoAcceptParty": {
          "enabled": "true" # boolean
      },
      "autoAcceptQuote": {
        "enabled": "true", # (boolean)
        "transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true
      }
      "skipPartyLookup": "fase", # (boolean)
      "synchronous": "fase", # (boolean)
      "bulkExpiration": DateTime, # expiration date time (string)
    },
   "from": { "partyIdInfo": {} # (partyIdInfo type)
           },                        
   "individualtransfers": [
          {
            "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
            "reference": "string", # Payer Loan reference
            "to": {
              "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "string",
                "partySubIdOrType": "string",
                "fspId": "string",
                "extensionList": {"extension": [{"key": "string","value": "string"}]}
              },
            "amountType": "RECEIVE" # SEND, RECEIVE (Enum)
            "currency" : "XXX" # (Enum)
            "amount": "100.0", # money (string)
            "note": "string"
            "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
            "transferRequestExtensions": [{ "key": "string", "value": "string"}]
            "lastError": {
              "httpStatusCode": 0,
              "mojaloopError": {
                "errorInformation": {
                  "errorCode": "8812",
                  "errorDescription": "string",
                  "extensionList": {"extension": [{"key": "string","value": "string"}]}
                }
              }
            }, ...
          ],
   "extensions": [{ "key": "string", "value": "string"}],
}
end note
alt if (!synchronous)
MFIMC- ->MFICC: Receive HTTP 202 response
MFI <- - MFICC: Receive HTTP 202 response
end

alt if (!skipPartyLookup)
loop N times & within bulkExpiration timelimit  (in parallel)
hnote left of MFIMC
        For each transfer
        in bulk message
end hnote
  alt if (validTransfer)
    MFIMC -> MFIMC: Create TransactionId
    MFIMC -> MJW: **GET** /parties/*\n<i><PartyIdType>**/**</i><i><PartyId>
    activate MFIMC
    MJW -> Oracle: Lookup DFSP for \nrequested Type/ID
    Oracle-> Oracle: Lookup Party for \nrequested Type/ID
    Oracle->MJW: Return DFSP ID
    MJW->MJW: **GET** /parties/{type}/{id}/{subid}\nMake call to payee DFSP to confirm Party information
    MJW->MFIMC: **PUT** /parties/{type}/{id}
    deactivate MFIMC
    
    MFIMC -> MFIMC: Update transaction status and\n attach get parties response
    MFIMC -> MFIMC: Add to next phase FSP bulk call
  else if (!validTransfer)
    MFIMC->MFIMC: Skip
  end
end Loop
else if (skipPartyLookup)
  loop N times & within bulkExpiration timelimit 
    MFIMC->MFIMC: Validate party info \n Add to next phase FSP bulk call
  end loop
end
MFIMC->MFIMC: if(transferStatusValid) Group into M Payee DFSPs

alt if (!autoAcceptParty)
  alt if (synchronous)
    MFIMC- ->MFICC: Response <bulkPartyLookupResponse>
    MFI <- - MFICC: Response <bulkPartyLookupResponse>
    MFI->MStaff: Present Party Response
    MStaff->MFI: Accept Party
    MFI->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    MFICC->MFIMC: **PUT** /bulkTransfers/{bulkTransferId}
  else if (!synchronous)
    MFIMC->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    note right
      **bulkPartyLookupResponse**
      {
        "bulkHomeTransactionID": "string", # external identifier
        "options": {
            "onlyValidateParty": "fase", # (boolean) 
            "autoAcceptParty": {
                "enabled": "true" # boolean
            },
            "autoAcceptQuote": {
                "enabled": "true", # (boolean)
                "transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true
            }
            "skipPartyLookup": "fase", # (boolean)
            "synchronous": "fase", # (boolean)
            "bulkExpiration": DateTime, # expiration date time (string)
        },
        "from": { "partyIdInfo": {} # (partyIdInfo type)
                },                        
        "individualtransfers": [
                {
                  "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
                  "transactionId": "UUID", # Created by ML connector
                  "reference": "string", # Payer Loan reference
                  "to": {
                    "partyIdInfo": {
                      "partyIdType": "MSISDN",
                      "partyIdentifier": "string",
                      "partySubIdOrType": "string",
                      "fspId": "string",
                      "extensionList": {"extension": [{"key": "string","value": "string"}]}
                    },
                  "amountType": "RECEIVE" # SEND, RECEIVE (Enum)
                  "currency" : "XXX" # (Enum)
                  "amount": "100.0", # money (string)
                  "note": "string"
                  "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
                  "transferRequestExtensions": [{ "key": "string", "value": "string"}]
                  "lastError": {
                    "httpStatusCode": 0,
                    "mojaloopError": {
                      "errorInformation": {
                        "errorCode": "8812",1
                        "errorDescription": "string",
                        "extensionList": {"extension": [{"key": "string","value": "string"}]}
                      }
                    }
                  }
                }
        ],
        "extensions": [{ "key": "string", "value": "string"}],
      }
    end note
    MFICC- ->MFIMC: Receive HTTP 202 response
    MFICC->MFI: **PUT** /bulkTransfers/{bulkTransferId}
    MFI- ->MFICC: Receive HTTP 202 response
    MFI->MStaff: Present Party Response
    MStaff->MFI: Accept Party
    MFI->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    MFICC->MFIMC: **PUT** /bulkTransfers/{bulkTransferId}
    note left
      **bulkTransferContinuationAcceptParty**
      {
        "bulkHomeTransactionID": "string", # external identifier                    
        "individualtransfers": [
                {
                  "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
                  "transactionId": "UUID", # Created by ML connector
                  "acceptParty": "true" # (boolean)
                }
        ],
      }
    end note    
    MFIMC- ->MFICC: Receive HTTP 202 response
    MFI <- - MFICC: Receive HTTP 202 response
  end
end

loop Quote Processing (M times & within bulkExpiration timelimit in parallel)
hnote left of MFIMC
        For each payee DFSP
        in bulk message
end hnote
    MFIMC->MFIMC: Check bulkExpiration
    MFIMC->MFIMC: Create bulkTransactionId
    MFIMC ->> MFIMC: Calculate bulk expiry \nbased on both expirySeconds config and \nbulkExpiration
    MFIMC ->> MJW: **POST** /bulkquotes
    activate MFIMC
    MJW->PayeeFSPMC: **POST** /bulkquotes 
    PayeeFSPMC->PayeeFSPCC: **GET** /functionSupport?HasSupportForBulkQuotes \n # check to see if the core connector supports bulk quotes
    PayeeFSPCC- ->PayeeFSPMC: Reponse HasSupportForBulkQuotes 
    alt if (HasSupportForBulkQuotes)
      PayeeFSPMC->PayeeFSPCC: **POST** /bulkquotes  
      PayeeFSPCC- ->PayeeFSPMC: Reponse bulkquotes Response
      PayeeFSPMC -> PayeeFSPMC: Update transaction statuses \nand attach quote responses
    else if (!HasSupportForBulkQuotes)
      loop X times for each transfer in bulk message
        PayeeFSPMC->PayeeFSPCC: **POST** /quoterequests  
        PayeeFSPCC- ->PayeeFSPMC: response
        PayeeFSPMC -> PayeeFSPMC: Update transaction status \nand attach quote response
      end Loop
    end
    PayeeFSPMC->MJW: **PUT** /bulkquotes/{id)
    MJW->MFIMC: **PUT** /bulkquotes/{id)
    deactivate  MFIMC
    MFIMC -> MFIMC: Update transaction status \nand attach quote response
end loop

alt if (!autoAcceptQuote)
  alt if (synchronous)
    MFIMC- ->MFICC: Response <bulkQuoteRequestResponse>
    MFI <- - MFICC: Response <bulkQuoteRequestResponse>
    MFI->MStaff: Present Quote Response
    MStaff->MFI: Accept Quote
    MFI->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    MFICC->MFIMC: **PUT** /bulkTransfers/{bulkTransferId}
  else if (!synchronous)
    MFIMC->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    note right
      **bulkQuoteRequestResponse**
      {
        "bulkHomeTransactionID": "string", # external identifier
        "options": {
            "onlyValidateParty": "fase", # (boolean) 
            "autoAcceptParty": {
                "enabled": "true" # boolean
            },
            "autoAcceptQuote": {
                "enabled": "true", # (boolean)
                "transferFeeLimit": { "currency": "AED", "amount": "88054601147.69" }, # mandatory if enabled is true
            }
            "skipPartyLookup": "fase", # (boolean)
            "synchronous": "fase", # (boolean)
            "bulkExpiration": DateTime, # expiration date time (string)
        },
        "from": { "partyIdInfo": {} # (partyIdInfo type)
                },                        
        "individualtransfers": [
                {
                  "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
                  "transactionId": "UUID", # Created by ML connector
                  "reference": "string", # Payer Loan reference
                  "to": {
                    "partyIdInfo": {
                      "partyIdType": "MSISDN",
                      "partyIdentifier": "string",
                      "partySubIdOrType": "string",
                      "fspId": "string",
                      "extensionList": {"extension": [{"key": "string","value": "string"}]}
                    },
                  "amountType": "RECEIVE" # SEND, RECEIVE (Enum)
                  "currency" : "XXX" # (Enum)
                  "amount": "100.0", # money (string)
                  "note": "string"
                  "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
                  "transferRequestExtensions": [{ "key": "string", "value": "string"}],
                  "quoteResponse": {
                    "transferAmount": {"currency": "AED","amount": "0.7"},
                    "payeeReceiveAmount": {"currency": "AED","amount": "0.922"},
                    "payeeFspFee": {"currency": "AED","amount": "67247160"},
                    "payeeFspCommission": {"currency": "AED","amount": "829358883"},
                    "expiration": "6286-11-29T16:19:08.300+06:14",
                    "geoCode": {"latitude": "5.9","longitude": "180.0000"},
                    "ilpPacket": "XqOB5HUGEifQ-ebr0TAVAgD3...",
                    "condition": "gZI4iD9u_Yc...",
                    "extensionList": {"extension": [{"key": "string","value": "string"}]}
                  },
                  "lastError": {
                    "httpStatusCode": 0,
                    "mojaloopError": {
                      "errorInformation": {
                        "errorCode": "8812",
                        "errorDescription": "string",
                        "extensionList": {"extension": [{"key": "string","value": "string"}]}
                      }
                    }
                  }
                }
        ],
        "extensions": [{ "key": "string", "value": "string"}],
      }
    end note
    MFICC- ->MFIMC: Receive HTTP 202 response
    MFICC->MFI: **PUT** /bulkTransfers/{bulkTransferId}
    MFI- ->MFICC: Receive HTTP 202 response
    MFI->MStaff: Present Quote Response
    MStaff->MFI: Accept Quote
    MFI->MFICC: **PUT** /bulkTransfers/{bulkTransferId}
    MFICC->MFIMC: **PUT** /bulkTransfers/{bulkTransferId}
    note left
      **bulkAcceptQuote**
      {
        "bulkHomeTransactionID": "string", # external identifier
        "individualtransfers": [
                {
                  "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
                  "transactionId": "UUID", # Created by ML connector
                  "acceptQuote": "true" #boolean
                }                  
        ],
      }
    end note    

    MFIMC- ->MFICC: Receive HTTP 202 response
    MFI <- - MFICC: Receive HTTP 202 response
  end
end


loop Transfer Processing (M times & within bulkExpiration timelimit  in parallel)
  hnote left of MFIMC
        For each payee DFSP
        in bulk message
  end hnote
    alt if (AutoAcceptQuote)
      MFIMC -> MFIMC: Confirm Fees meets auto accept levels\n and bulkExpiration timelimit not reached \n-> Update Transfer Status
    end
 
    alt if (AcceptedQuote)
    MFIMC ->> MFIMC: Calculate bulk expiry \nbased on both expirySeconds config and \nbulkExpiration
    MFIMC ->> MJW: **POST** /bulktransfers
    activate MFIMC
    MJW-> MJW: Perform liquidity(NDC)check at indivial transfer level
    MJW->MJW: Reserve Funds at indivial transfer level
    MJW ->> PayeeFSPMC: **POST** /bulktransfers
    PayeeFSPMC->PayeeFSPCC: **GET** /functionSupport?HasSupportForBulkTransfers \n # check to see if the core connector supports bulk transfers
    alt if (HasSupportForBulkTransfers)
      PayeeFSPMC->PayeeFSPCC: **POST** /bulktransfers  
      PayeeFSPCC- ->PayeeFSPMC: response
      PayeeFSPMC -> PayeeFSPMC:Update transaction statuses \nand attach transfer responses
    else if (!HasSupportForBulkTransfers)
      loop X times for each transfer in bulk message
        PayeeFSPMC->PayeeFSPCC: **POST** /transfers  
        PayeeFSPCC- ->PayeeFSPMC: response
        PayeeFSPMC -> PayeeFSPMC:Update transaction status \nand attach transfer response
      end Loop
    end
    PayeeFSPMC ->> MJW: **PUT** /bulktransfers/{id} (BulkStatus)
    MJW- ->MJW: Commit funds at indivial transfer level
    alt if (bulkStatus == 'Processing')
    MJW -> PayeeFSPMC: **PATCH** /bulktransfers/{id} (BulkStatus)
    PayeeFSPMC->PayeeFSPCC: **GET** /functionSupport?HasSupportForBulkTransfers \n # check to see if the core connector supports bulk transfers
    alt if (HasSupportForBulkTransfers)
      PayeeFSPMC->PayeeFSPCC: **PATCH** /bulktransfers/{bulkTransferId}  
    else if (!HasSupportForBulkTransfers)
      loop X times for each transfer in bulk message
        PayeeFSPMC->PayeeFSPCC: **PATCH** /transfers/{TransferId}  
      end Loop
    end
    end
    MJW->MFIMC:**PUT** /bulktransfers/{id}
   
    deactivate MFIMC 
    MFIMC -> MFIMC: Update transaction status \nand attach bulk transfers response
    end
end loop
hnote right MFIMC
**bulkTransferResponse**
{
 "homeBulkTransactionID": "string", # external identifier
 "bulkExpiration": DateTime, # expiration date time (string)
 "currentState": "COMPLETED", # status of the bulk transfer request
 "individualTransferResults": [
    {
      "transferId": "310e5c51-e4fd-30bc-96ae-6dffee2c54cb",
      "homeTransactionId": "string", # Payer DFSP CBS Transaction identifier
      "transactionId": "string", # Mojaloop bulk transaction Id used to make the bulk transfer
      "to": {
        "partyIdInfo": {
          "partyIdType": "MSISDN",
          "partyIdentifier": "string",
          "partySubIdOrType": "string",
          "fspId": "string",
          "extensionList": {"extension": [{"key": "string","value": "string"}]}
        }
      },
      "amountType": "SEND",
      "currency": "AED",
      "amount": "0",
      "transactionType": "TRANSFER",
      "note": "string",
      "quoteId": "4932beab-423e-37b6-8587-49c016d2f5ef",
      "quoteRequestExtensions": [{ "key": "string", "value": "string"}],
      "transferRequestExtensions": [{ "key": "string", "value": "string"}]
      "quoteResponse": {
        "transferAmount": {"currency": "AED","amount": "0.7"},
        "payeeReceiveAmount": {"currency": "AED","amount": "0.922"},
        "payeeFspFee": {"currency": "AED","amount": "67247160"},
        "payeeFspCommission": {"currency": "AED","amount": "829358883"},
        "expiration": "6286-11-29T16:19:08.300+06:14",
        "geoCode": {"latitude": "5.9","longitude": "180.0000"},
        "ilpPacket": "XqOB5HUGEifQ-ebr0TAVAgD3...",
        "condition": "gZI4iD9u_Yc...",
        "extensionList": {"extension": [{"key": "string","value": "string"}]}
      },
      "fulfil": {
        "fulfilment": "UXgB0280lbHM...",
        "completedTimestamp": "5138-01-31T21:10:42.484Z",
        "transferState": "COMMITTED",
        "extensionList": {"extension": [{"key": "string","value": "string"}]}
      }
      "lastError": {
        "httpStatusCode": 0,
        "mojaloopError": {
          "errorInformation": {
            "errorCode": "8812",
            "errorDescription": "string",
            "extensionList": {"extension": [{"key": "string","value": "string"}]}
        }
  }}}],
  "extensions": [{ "key": "string", "value": "string"}]
} 
end hnote    
alt if (synchronous)
    MFIMC->MFICC: Response <bulkTransferResponse>
    MFICC->MFI: Response <bulkTransferResponse>
    MFI->MStaff: Transafer response(success & fail)
else if (!synchronous)
    MFIMC->MFICC:Callback Response \n**PUT** /bulkTransfers/{bulkTransferId}\nTransfer Response(success & fail)
    MFICC- ->MFIMC: Receive HTTP 202 response
    MFICC->MFI: **PUT** /bulkTransfers/{bulkTransferId}\nTransfer Status Update (success & fail)
    MFI- ->MFICC: Receive HTTP 202 response
    MFI->MStaff: Transafer response(success & fail)
end
@enduml

PlantUML version 1.2020.13(Sat Jun 13 07:26:38 CDT 2020)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: MX
--></g></svg>